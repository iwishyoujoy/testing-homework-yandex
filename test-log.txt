
> autotests-hw-with-auto-check@1.0.0 test C:\testing-homework-yandex
> npm run test:e2e


> autotests-hw-with-auto-check@1.0.0 test:e2e C:\testing-homework-yandex
> hermione

2023-07-01T08:36:27.221Z INFO webdriver: COMMAND addCommand("setMeta", <fn>)
2023-07-01T08:36:27.222Z INFO webdriver: COMMAND addCommand("getMeta", <fn>)
2023-07-01T08:36:27.222Z INFO webdriver: COMMAND overwriteCommand("url", <fn>)
2023-07-01T08:36:27.260Z INFO webdriver: COMMAND addCommand("assertView", <fn>)
2023-07-01T08:36:27.260Z INFO webdriver: COMMAND addCommand("assertView", <fn>, true)
2023-07-01T08:36:27.262Z INFO webdriver: COMMAND addCommand("getConfig", <fn>)
2023-07-01T08:36:27.262Z INFO webdriver: COMMAND addCommand("extendOptions", <fn>)
2023-07-01T08:36:27.262Z INFO webdriver: RESULT undefined
2023-07-01T08:36:27.263Z INFO webdriver: RESULT undefined
2023-07-01T08:36:27.263Z INFO webdriver: RESULT undefined
2023-07-01T08:36:27.263Z INFO webdriver: RESULT undefined
2023-07-01T08:36:27.263Z INFO webdriver: RESULT undefined
2023-07-01T08:36:27.263Z INFO webdriver: RESULT undefined
2023-07-01T08:36:27.263Z INFO webdriver: RESULT undefined
2023-07-01T08:36:27.554Z INFO webdriver: COMMAND $("<Screenshot[base64]>")
2023-07-01T08:36:27.559Z INFO devtools: COMMAND findElement("css selector", "body")
2023-07-01T08:36:27.563Z INFO devtools: RESULT { 'element-6066-11e4-a52e-4f735466cecf': 'ELEMENT-1' }
2023-07-01T08:36:27.568Z INFO webdriver: RESULT Element {
  sessionId: 'fd323f62-6111-4bbf-8445-695024e2ec28',
  elementId: 'ELEMENT-1',
  'element-6066-11e4-a52e-4f735466cecf': 'ELEMENT-1',
  selector: 'body',
  parent: Browser {
    sessionId: 'fd323f62-6111-4bbf-8445-695024e2ec28',
    capabilities: {
      browserName: 'Chrome',
      browserVersion: '114.0.0.0',
      platformName: 'win32',
      platformVersion: '10.0.22621',
      'goog:chromeOptions': [Object]
    }
  },
  emit: [Function: bound ],
  isReactElement: false,
  addCommand: [Function (anonymous)],
  overwriteCommand: [Function (anonymous)]
}
2023-07-01T08:36:27.568Z INFO webdriver: COMMAND execute(<fn>, <object>, true)
2023-07-01T08:36:27.570Z INFO devtools: COMMAND executeScript(<fn>, <object>)
2023-07-01T08:36:27.575Z INFO webdriver: RESULT undefined
2023-07-01T08:36:27.576Z INFO devtools: COMMAND getElementRect("ELEMENT-1")
2023-07-01T08:36:27.579Z INFO devtools: RESULT { x: 8, y: 8, width: 784, height: 584 }
2023-07-01T08:36:27.579Z INFO webdriver: COMMAND execute(<fn>)
2023-07-01T08:36:27.581Z INFO devtools: COMMAND executeScript(<fn>, <object>)
2023-07-01T08:36:27.583Z INFO devtools: RESULT { scrollX: 0, scrollY: 0 }
2023-07-01T08:36:27.583Z INFO webdriver: RESULT { scrollX: 0, scrollY: 0 }
2023-07-01T08:36:27.584Z INFO devtools: COMMAND performActions(<object>)
2023-07-01T08:36:27.728Z INFO devtools: COMMAND releaseActions()
2023-07-01T08:36:27.729Z INFO webdriver: COMMAND getPuppeteer()
2023-07-01T08:36:27.730Z INFO webdriver: RESULT CDPBrowser {
  eventsMap: Map(2) {
    'targetcreated' => [ [Function: bound _targetCreatedHandler] AsyncFunction ],
    'targetdestroyed' => [ [Function: bound _targetDestroyedHandler] AsyncFunction ]
  },
  emitter: {
    all: Map(2) { 'targetcreated' => [Array], 'targetdestroyed' => [Array] },
    on: [Function: on],
    off: [Function: off],
    emit: [Function: emit]
  }
}
2023-07-01T08:36:28.889Z INFO webdriver: COMMAND assertView("desktop", "<Screenshot[base64]>")
2023-07-01T08:36:28.890Z INFO webdriver: COMMAND $("<Screenshot[base64]>")
2023-07-01T08:36:28.895Z INFO devtools: COMMAND findElement("css selector", "html")
2023-07-01T08:36:28.897Z INFO devtools: RESULT { 'element-6066-11e4-a52e-4f735466cecf': 'ELEMENT-2' }
2023-07-01T08:36:28.901Z INFO webdriver: RESULT Element {
  sessionId: 'fd323f62-6111-4bbf-8445-695024e2ec28',
  elementId: 'ELEMENT-2',
  'element-6066-11e4-a52e-4f735466cecf': 'ELEMENT-2',
  selector: 'html',
  parent: Browser {
    sessionId: 'fd323f62-6111-4bbf-8445-695024e2ec28',
    capabilities: {
      browserName: 'Chrome',
      browserVersion: '114.0.0.0',
      platformName: 'win32',
      platformVersion: '10.0.22621',
      'goog:chromeOptions': [Object]
    }
  },
  emit: [Function: bound ],
  isReactElement: false,
  addCommand: [Function (anonymous)],
  overwriteCommand: [Function (anonymous)]
}
2023-07-01T08:36:28.902Z INFO webdriver: COMMAND $$("<Screenshot[base64]>")
2023-07-01T08:36:28.905Z INFO devtools: COMMAND findElements("css selector", "html")
2023-07-01T08:36:28.909Z INFO devtools: RESULT [ { 'element-6066-11e4-a52e-4f735466cecf': 'ELEMENT-3' } ]
2023-07-01T08:36:28.911Z INFO webdriver: RESULT [
  Element {
    sessionId: 'fd323f62-6111-4bbf-8445-695024e2ec28',
    elementId: 'ELEMENT-3',
    'element-6066-11e4-a52e-4f735466cecf': 'ELEMENT-3',
    selector: 'html',
    parent: Browser {
      sessionId: 'fd323f62-6111-4bbf-8445-695024e2ec28',
      capabilities: [Object]
    },
    index: 0,
    emit: [Function: bound ],
    isReactElement: false,
    addCommand: [Function (anonymous)],
    overwriteCommand: [Function (anonymous)]
  },
  selector: 'html',
  parent: Browser {
    sessionId: 'fd323f62-6111-4bbf-8445-695024e2ec28',
    capabilities: {
      browserName: 'Chrome',
      browserVersion: '114.0.0.0',
      platformName: 'win32',
      platformVersion: '10.0.22621',
      'goog:chromeOptions': [Object]
    }
  },
  foundWith: '$$',
  props: []
]
2023-07-01T08:36:28.912Z INFO webdriver: COMMAND execute("return typeof __geminiCore !== "undefined" ? __geminiCore.prepareScreenshot(["html"], {"ignoreSelectors":[],"allowViewportOverflow":false,"captureElementFromTop":true,"usePixelRatio":true}) : {isClientScriptNotInjected: true}")
2023-07-01T08:36:28.914Z INFO devtools: COMMAND executeScript("return typeof __geminiCore !== "undefined" ? __geminiCore.prepareScreenshot(["html"], {"ignoreSelectors":[],"allowViewportOverflow":false,"captureElementFromTop":true,"usePixelRatio":true}) : {isClientScriptNotInjected: true}", <object>)
2023-07-01T08:36:28.917Z INFO devtools: RESULT { isClientScriptNotInjected: true }
2023-07-01T08:36:28.917Z INFO webdriver: RESULT { isClientScriptNotInjected: true }
2023-07-01T08:36:28.917Z INFO webdriver: COMMAND execute("(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";var lib=require("./lib.native.js");module.exports=function(e){return lib.queryAll(e)};
},{"./lib.native.js":3}],2:[function(require,module,exports){
(function (global){(function (){
"use strict";function prepareScreenshotUnsafe(e,t){var r=t.allowViewportOverflow,o=t.captureElementFromTop,i=window;if(t.selectorToScroll&&!(i=document.querySelector(t.selectorToScroll)))return{error:"NOTFOUND",message:'Could not find element with css selector specified in "selectorToScroll" option: '+t.selectorToScroll,selector:t.selectorToScroll};var n,l=[];if(e.forEach(function(e){Rect.isRect(e)?n=n?n.merge(new Rect(e)):new Rect(e):l.push(e)}),n=getCaptureRect(l,{allowViewportOverflow:r,scrollElem:i},n),n.error)return n;var a=document.documentElement.clientWidth,c=document.documentElement.clientHeight,u=document.documentElement.scrollWidth,s=document.documentElement.scrollHeight,d=new Rect({left:util.getScrollLeft(i),top:util.getScrollTop(i),width:a,height:c}),f=configurePixelRatio(t.usePixelRatio);if(o&&!d.rectInside(n))util.isSafariMobile()?scrollToCaptureAreaInSafari(d,n,i):i.scrollTo(n.left,n.top);else if(r&&d.rectIntersects(n))n.overflowsTopBound(d)&&n.recalculateHeight(d),n.overflowsLeftBound(d)&&n.recalculateWidth(d);else if(!o&&!d.rectIntersects(n))return{error:"OUTSIDE_OF_VIEWPORT",message:'Can not capture element, because it is outside of viewport. Try to set "captureElementFromTop=true" to scroll to it before capture.'};return{captureArea:n.serialize(),ignoreAreas:findIgnoreAreas(t.ignoreSelectors,i),viewport:{left:util.getScrollLeft(i),top:util.getScrollTop(i),width:Math.round(a),height:Math.round(c)},documentHeight:Math.round(s),documentWidth:Math.round(u),canHaveCaret:isEditable(document.activeElement),pixelRatio:f}}function getCaptureRect(e,t,r){for(var o,i,n=r,l=0;l<e.length;l++){if(!(o=lib.queryFirst(e[l])))return{error:"NOTFOUND",message:"Could not find element with css selector specified in setCaptureElements: "+e[l],selector:e[l]};i=getElementCaptureRect(o,t),i&&(n=n?n.merge(i):i)}return n?n.round():{error:"HIDDEN",message:"Area with css selector : "+e+" is hidden",selector:e}}function configurePixelRatio(e){return!1===e?1:window.devicePixelRatio?window.devicePixelRatio:window.screen.deviceXDPI/window.screen.logicalXDPI||1}function findIgnoreAreas(e,t){var r=[];return util.each(e,function(e){var o=queryIgnoreAreas(e);util.each(o,function(e){return addIgnoreArea.call(r,e,t)})}),r}function addIgnoreArea(e,t){var r=e&&getElementCaptureRect(e,{scrollElem:t});r&&this.push(r.round().serialize())}function isHidden(e,t){return"none"===e.display||"hidden"===e.visibility||e.opacity<1e-4||t.width<1e-4||t.height<1e-4}function getElementCaptureRect(e,t){var r=[":before",":after"],o=lib.getComputedStyle(e),i=rect.getAbsoluteClientRect(e,t.scrollElem);if(isHidden(o,i))return null;var n=getExtRect(o,i,t.allowViewportOverflow);return util.each(r,function(r){o=lib.getComputedStyle(e,r),n=n.merge(getExtRect(o,i,t.allowViewportOverflow))}),n}function getExtRect(e,t,r){var o=parseBoxShadow(e.boxShadow),i=parseInt(e.outlineWidth,10);return isNaN(i)&&(i=0),adjustRect(t,o,i,r)}function parseBoxShadow(e){e=e||"";var t,r=/[-+]?\d*\.?\d+px/g,o=e.split(","),i=[];return util.each(o,function(e){(t=e.match(r))&&i.push({offsetX:parseFloat(t[0]),offsetY:parseFloat(t[1])||0,blurRadius:parseFloat(t[2])||0,spreadRadius:parseFloat(t[3])||0,inset:-1!==e.indexOf("inset")})}),i}function adjustRect(e,t,r,o){var i=calculateShadowRect(e,t,o),n=calculateOutlineRect(e,r,o);return i.merge(n)}function calculateOutlineRect(e,t,r){var o=e.top-t,i=e.left-t;return new Rect({top:r?o:Math.max(0,o),left:r?i:Math.max(0,i),bottom:e.bottom+t,right:e.right+t})}function calculateShadowRect(e,t,r){var o=calculateShadowExtent(t),i=e.left+o.left,n=e.top+o.top;return new Rect({left:r?i:Math.max(0,i),top:r?n:Math.max(0,n),width:e.width-o.left+o.right,height:e.height-o.top+o.bottom})}function calculateShadowExtent(e){var t={top:0,left:0,right:0,bottom:0};return util.each(e,function(e){if(!e.inset){var r=e.spreadRadius+e.blurRadius;t.left=Math.min(e.offsetX-r,t.left),t.right=Math.max(e.offsetX+r,t.right),t.top=Math.min(e.offsetY-r,t.top),t.bottom=Math.max(e.offsetY+r,t.bottom)}}),t}function isEditable(e){return!!e&&(/^(input|textarea)$/i.test(e.tagName)||e.isContentEditable)}function scrollToCaptureAreaInSafari(e,t,r){var o=Math.round(document.documentElement.scrollHeight),i=Math.round(document.documentElement.clientHeight),n=o-i;r.scrollTo(e.left,Math.min(t.top,n))}var util=require("./util"),rect=require("./rect"),lib=require("./lib.native.js"),queryIgnoreAreas=require("./ignore-areas.js"),Rect=rect.Rect;"undefined"==typeof window?global.__geminiCore=exports:window.__geminiCore=exports,exports.queryFirst=lib.queryFirst,exports.prepareScreenshot=function(e,t){t=t||{};try{return prepareScreenshotUnsafe(e,t)}catch(r){return{error:"JS",message:r.stack||r.message}}},exports.resetZoom=function(){var e=lib.queryFirst('meta[name="viewport"]');if(!e){e=document.createElement("meta"),e.name="viewport";var t=lib.queryFirst("head");t&&t.appendChild(e)}e.content="width=device-width,initial-scale=1.0,user-scalable=no"};
}).call(this)}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"./ignore-areas.js":1,"./lib.native.js":3,"./rect":4,"./util":5}],3:[function(require,module,exports){
"use strict";var xpath=require("./xpath");exports.queryFirst=function(t){return xpath.isXpathSelector(t)?xpath.queryFirst(t):document.querySelector(t)},exports.queryAll=function(t){return xpath.isXpathSelector(t)?xpath.queryAll(t):document.querySelectorAll(t)},exports.getComputedStyle=function(t,e){return getComputedStyle(t,e)},exports.matchMedia=function(t){return matchMedia(t)},exports.trim=function(t){return t.trim()};
},{"./xpath":6}],4:[function(require,module,exports){
"use strict";function Rect(t){if(this.top=t.top,this.left=t.left,"width"in t&&"height"in t)this.width=t.width,this.height=t.height,this.bottom=t.bottom||this.top+this.height,this.right=t.right||this.left+this.width;else{if(!("bottom"in t&&"right"in t))throw new Error("Not enough data for the rect construction");this.bottom=t.bottom,this.right=t.right,this.width=t.right-Math.max(0,t.left),this.height=t.bottom-Math.max(0,t.top)}}var util=require("./util");Rect.isRect=function(t){return"object"==typeof t&&null!==t&&!Array.isArray(t)&&("left"in t&&"top"in t&&("width"in t&&"height"in t||"right"in t&&"bottom"in t))},Rect.prototype={constructor:Rect,merge:function(t){return new Rect({left:Math.min(this.left,t.left),top:Math.min(this.top,t.top),bottom:Math.max(this.bottom,t.bottom),right:Math.max(this.right,t.right)})},translate:function(t,i){return new Rect({left:this.left+t,top:this.top+i,width:this.width,height:this.height})},pointInside:function(t,i){return t>=this.left&&t<=this.right&&i>=this.top&&i<=this.bottom},rectInside:function(t){return util.every(t._keyPoints(),function(t){return this.pointInside(t[0],t[1])},this)},rectIntersects:function(t){return!(t.right<=this.left||t.bottom<=this.top||t.left>=this.right||t.top>=this.bottom)},round:function(){return new Rect({top:Math.floor(this.top),left:Math.floor(this.left),right:Math.ceil(this.right),bottom:Math.ceil(this.bottom)})},serialize:function(){return{left:this.left,top:this.top,width:this.width,height:this.height}},overflowsTopBound:function(t){return this._overflowsBound(t,"top")},overflowsLeftBound:function(t){return this._overflowsBound(t,"left")},recalculateHeight:function(t){this.height=this.height-(t.top-Math.max(0,this.top))},recalculateWidth:function(t){this.width=this.width-(t.left-Math.max(0,this.left))},_overflowsBound:function(t,i){return Math.max(0,this[i])<t[i]},_anyPointInside:function(t){return util.some(t,function(t){return this.pointInside(t[0],t[1])},this)},_keyPoints:function(){return[[this.left,this.top],[this.left,this.bottom],[this.right,this.top],[this.right,this.bottom]]}},exports.Rect=Rect,exports.getAbsoluteClientRect=function(t,i){return new Rect(t.getBoundingClientRect()).translate(util.getScrollLeft(i),util.getScrollTop(i))};
},{"./util":5}],5:[function(require,module,exports){
"use strict";function arrayUtil(r,t){return r?contextify(r):t}function contextify(r){return function(t){var e=Array.prototype.slice.call(arguments,1);return r.apply(t,e)}}function myForEach(r,t,e){for(var o=0;o<r.length;o++)t.call(e,r[o],o,r)}function mySome(r,t,e){for(var o=0;o<r.length;o++)if(t.call(e,r[o],o,r))return!0;return!1}function myEvery(r,t,e){for(var o=0;o<r.length;o++)if(!t.call(e,r[o],o,r))return!1;return!0}function getScroll(r,t,e){var o=SCROLL_DIR_NAME[t],n=PAGE_OFFSET_NAME[e];return r&&r!==window?r[o]:"undefined"!=typeof window[n]?window[n]:document.documentElement[o]}var SCROLL_DIR_NAME={top:"scrollTop",left:"scrollLeft"},PAGE_OFFSET_NAME={x:"pageXOffset",y:"pageYOffset"};exports.each=arrayUtil(Array.prototype.forEach,myForEach),exports.some=arrayUtil(Array.prototype.some,mySome),exports.every=arrayUtil(Array.prototype.every,myEvery),exports.getScrollTop=function(r){return getScroll(r,"top","y")},exports.getScrollLeft=function(r){return getScroll(r,"left","x")},exports.isSafariMobile=function(){return navigator&&"string"==typeof navigator.vendor&&navigator.vendor.match(/apple/i)&&/(iPhone|iPad).*AppleWebKit.*Safari/i.test(navigator.userAgent)};
},{}],6:[function(require,module,exports){
"use strict";function isXpathSelector(e){return XPATH_SELECTORS_START.some(function(t){return 0===e.indexOf(t)})}function queryFirst(e){return document.evaluate(e,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue}function queryAll(e){var t,u=document.evaluate(e,document,null,XPathResult.ANY_TYPE,null),r=[];for(t=u.iterateNext();t;)r.push(t),t=u.iterateNext();return r}var XPATH_SELECTORS_START=["/","(","../","./","*/"];module.exports={isXpathSelector:isXpathSelector,queryFirst:queryFirst,queryAll:queryAll};
},{}]},{},[2]);
")
2023-07-01T08:36:28.918Z INFO devtools: COMMAND executeScript("(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";var lib=require("./lib.native.js");module.exports=function(e){return lib.queryAll(e)};
},{"./lib.native.js":3}],2:[function(require,module,exports){
(function (global){(function (){
"use strict";function prepareScreenshotUnsafe(e,t){var r=t.allowViewportOverflow,o=t.captureElementFromTop,i=window;if(t.selectorToScroll&&!(i=document.querySelector(t.selectorToScroll)))return{error:"NOTFOUND",message:'Could not find element with css selector specified in "selectorToScroll" option: '+t.selectorToScroll,selector:t.selectorToScroll};var n,l=[];if(e.forEach(function(e){Rect.isRect(e)?n=n?n.merge(new Rect(e)):new Rect(e):l.push(e)}),n=getCaptureRect(l,{allowViewportOverflow:r,scrollElem:i},n),n.error)return n;var a=document.documentElement.clientWidth,c=document.documentElement.clientHeight,u=document.documentElement.scrollWidth,s=document.documentElement.scrollHeight,d=new Rect({left:util.getScrollLeft(i),top:util.getScrollTop(i),width:a,height:c}),f=configurePixelRatio(t.usePixelRatio);if(o&&!d.rectInside(n))util.isSafariMobile()?scrollToCaptureAreaInSafari(d,n,i):i.scrollTo(n.left,n.top);else if(r&&d.rectIntersects(n))n.overflowsTopBound(d)&&n.recalculateHeight(d),n.overflowsLeftBound(d)&&n.recalculateWidth(d);else if(!o&&!d.rectIntersects(n))return{error:"OUTSIDE_OF_VIEWPORT",message:'Can not capture element, because it is outside of viewport. Try to set "captureElementFromTop=true" to scroll to it before capture.'};return{captureArea:n.serialize(),ignoreAreas:findIgnoreAreas(t.ignoreSelectors,i),viewport:{left:util.getScrollLeft(i),top:util.getScrollTop(i),width:Math.round(a),height:Math.round(c)},documentHeight:Math.round(s),documentWidth:Math.round(u),canHaveCaret:isEditable(document.activeElement),pixelRatio:f}}function getCaptureRect(e,t,r){for(var o,i,n=r,l=0;l<e.length;l++){if(!(o=lib.queryFirst(e[l])))return{error:"NOTFOUND",message:"Could not find element with css selector specified in setCaptureElements: "+e[l],selector:e[l]};i=getElementCaptureRect(o,t),i&&(n=n?n.merge(i):i)}return n?n.round():{error:"HIDDEN",message:"Area with css selector : "+e+" is hidden",selector:e}}function configurePixelRatio(e){return!1===e?1:window.devicePixelRatio?window.devicePixelRatio:window.screen.deviceXDPI/window.screen.logicalXDPI||1}function findIgnoreAreas(e,t){var r=[];return util.each(e,function(e){var o=queryIgnoreAreas(e);util.each(o,function(e){return addIgnoreArea.call(r,e,t)})}),r}function addIgnoreArea(e,t){var r=e&&getElementCaptureRect(e,{scrollElem:t});r&&this.push(r.round().serialize())}function isHidden(e,t){return"none"===e.display||"hidden"===e.visibility||e.opacity<1e-4||t.width<1e-4||t.height<1e-4}function getElementCaptureRect(e,t){var r=[":before",":after"],o=lib.getComputedStyle(e),i=rect.getAbsoluteClientRect(e,t.scrollElem);if(isHidden(o,i))return null;var n=getExtRect(o,i,t.allowViewportOverflow);return util.each(r,function(r){o=lib.getComputedStyle(e,r),n=n.merge(getExtRect(o,i,t.allowViewportOverflow))}),n}function getExtRect(e,t,r){var o=parseBoxShadow(e.boxShadow),i=parseInt(e.outlineWidth,10);return isNaN(i)&&(i=0),adjustRect(t,o,i,r)}function parseBoxShadow(e){e=e||"";var t,r=/[-+]?\d*\.?\d+px/g,o=e.split(","),i=[];return util.each(o,function(e){(t=e.match(r))&&i.push({offsetX:parseFloat(t[0]),offsetY:parseFloat(t[1])||0,blurRadius:parseFloat(t[2])||0,spreadRadius:parseFloat(t[3])||0,inset:-1!==e.indexOf("inset")})}),i}function adjustRect(e,t,r,o){var i=calculateShadowRect(e,t,o),n=calculateOutlineRect(e,r,o);return i.merge(n)}function calculateOutlineRect(e,t,r){var o=e.top-t,i=e.left-t;return new Rect({top:r?o:Math.max(0,o),left:r?i:Math.max(0,i),bottom:e.bottom+t,right:e.right+t})}function calculateShadowRect(e,t,r){var o=calculateShadowExtent(t),i=e.left+o.left,n=e.top+o.top;return new Rect({left:r?i:Math.max(0,i),top:r?n:Math.max(0,n),width:e.width-o.left+o.right,height:e.height-o.top+o.bottom})}function calculateShadowExtent(e){var t={top:0,left:0,right:0,bottom:0};return util.each(e,function(e){if(!e.inset){var r=e.spreadRadius+e.blurRadius;t.left=Math.min(e.offsetX-r,t.left),t.right=Math.max(e.offsetX+r,t.right),t.top=Math.min(e.offsetY-r,t.top),t.bottom=Math.max(e.offsetY+r,t.bottom)}}),t}function isEditable(e){return!!e&&(/^(input|textarea)$/i.test(e.tagName)||e.isContentEditable)}function scrollToCaptureAreaInSafari(e,t,r){var o=Math.round(document.documentElement.scrollHeight),i=Math.round(document.documentElement.clientHeight),n=o-i;r.scrollTo(e.left,Math.min(t.top,n))}var util=require("./util"),rect=require("./rect"),lib=require("./lib.native.js"),queryIgnoreAreas=require("./ignore-areas.js"),Rect=rect.Rect;"undefined"==typeof window?global.__geminiCore=exports:window.__geminiCore=exports,exports.queryFirst=lib.queryFirst,exports.prepareScreenshot=function(e,t){t=t||{};try{return prepareScreenshotUnsafe(e,t)}catch(r){return{error:"JS",message:r.stack||r.message}}},exports.resetZoom=function(){var e=lib.queryFirst('meta[name="viewport"]');if(!e){e=document.createElement("meta"),e.name="viewport";var t=lib.queryFirst("head");t&&t.appendChild(e)}e.content="width=device-width,initial-scale=1.0,user-scalable=no"};
}).call(this)}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"./ignore-areas.js":1,"./lib.native.js":3,"./rect":4,"./util":5}],3:[function(require,module,exports){
"use strict";var xpath=require("./xpath");exports.queryFirst=function(t){return xpath.isXpathSelector(t)?xpath.queryFirst(t):document.querySelector(t)},exports.queryAll=function(t){return xpath.isXpathSelector(t)?xpath.queryAll(t):document.querySelectorAll(t)},exports.getComputedStyle=function(t,e){return getComputedStyle(t,e)},exports.matchMedia=function(t){return matchMedia(t)},exports.trim=function(t){return t.trim()};
},{"./xpath":6}],4:[function(require,module,exports){
"use strict";function Rect(t){if(this.top=t.top,this.left=t.left,"width"in t&&"height"in t)this.width=t.width,this.height=t.height,this.bottom=t.bottom||this.top+this.height,this.right=t.right||this.left+this.width;else{if(!("bottom"in t&&"right"in t))throw new Error("Not enough data for the rect construction");this.bottom=t.bottom,this.right=t.right,this.width=t.right-Math.max(0,t.left),this.height=t.bottom-Math.max(0,t.top)}}var util=require("./util");Rect.isRect=function(t){return"object"==typeof t&&null!==t&&!Array.isArray(t)&&("left"in t&&"top"in t&&("width"in t&&"height"in t||"right"in t&&"bottom"in t))},Rect.prototype={constructor:Rect,merge:function(t){return new Rect({left:Math.min(this.left,t.left),top:Math.min(this.top,t.top),bottom:Math.max(this.bottom,t.bottom),right:Math.max(this.right,t.right)})},translate:function(t,i){return new Rect({left:this.left+t,top:this.top+i,width:this.width,height:this.height})},pointInside:function(t,i){return t>=this.left&&t<=this.right&&i>=this.top&&i<=this.bottom},rectInside:function(t){return util.every(t._keyPoints(),function(t){return this.pointInside(t[0],t[1])},this)},rectIntersects:function(t){return!(t.right<=this.left||t.bottom<=this.top||t.left>=this.right||t.top>=this.bottom)},round:function(){return new Rect({top:Math.floor(this.top),left:Math.floor(this.left),right:Math.ceil(this.right),bottom:Math.ceil(this.bottom)})},serialize:function(){return{left:this.left,top:this.top,width:this.width,height:this.height}},overflowsTopBound:function(t){return this._overflowsBound(t,"top")},overflowsLeftBound:function(t){return this._overflowsBound(t,"left")},recalculateHeight:function(t){this.height=this.height-(t.top-Math.max(0,this.top))},recalculateWidth:function(t){this.width=this.width-(t.left-Math.max(0,this.left))},_overflowsBound:function(t,i){return Math.max(0,this[i])<t[i]},_anyPointInside:function(t){return util.some(t,function(t){return this.pointInside(t[0],t[1])},this)},_keyPoints:function(){return[[this.left,this.top],[this.left,this.bottom],[this.right,this.top],[this.right,this.bottom]]}},exports.Rect=Rect,exports.getAbsoluteClientRect=function(t,i){return new Rect(t.getBoundingClientRect()).translate(util.getScrollLeft(i),util.getScrollTop(i))};
},{"./util":5}],5:[function(require,module,exports){
"use strict";function arrayUtil(r,t){return r?contextify(r):t}function contextify(r){return function(t){var e=Array.prototype.slice.call(arguments,1);return r.apply(t,e)}}function myForEach(r,t,e){for(var o=0;o<r.length;o++)t.call(e,r[o],o,r)}function mySome(r,t,e){for(var o=0;o<r.length;o++)if(t.call(e,r[o],o,r))return!0;return!1}function myEvery(r,t,e){for(var o=0;o<r.length;o++)if(!t.call(e,r[o],o,r))return!1;return!0}function getScroll(r,t,e){var o=SCROLL_DIR_NAME[t],n=PAGE_OFFSET_NAME[e];return r&&r!==window?r[o]:"undefined"!=typeof window[n]?window[n]:document.documentElement[o]}var SCROLL_DIR_NAME={top:"scrollTop",left:"scrollLeft"},PAGE_OFFSET_NAME={x:"pageXOffset",y:"pageYOffset"};exports.each=arrayUtil(Array.prototype.forEach,myForEach),exports.some=arrayUtil(Array.prototype.some,mySome),exports.every=arrayUtil(Array.prototype.every,myEvery),exports.getScrollTop=function(r){return getScroll(r,"top","y")},exports.getScrollLeft=function(r){return getScroll(r,"left","x")},exports.isSafariMobile=function(){return navigator&&"string"==typeof navigator.vendor&&navigator.vendor.match(/apple/i)&&/(iPhone|iPad).*AppleWebKit.*Safari/i.test(navigator.userAgent)};
},{}],6:[function(require,module,exports){
"use strict";function isXpathSelector(e){return XPATH_SELECTORS_START.some(function(t){return 0===e.indexOf(t)})}function queryFirst(e){return document.evaluate(e,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue}function queryAll(e){var t,u=document.evaluate(e,document,null,XPathResult.ANY_TYPE,null),r=[];for(t=u.iterateNext();t;)r.push(t),t=u.iterateNext();return r}var XPATH_SELECTORS_START=["/","(","../","./","*/"];module.exports={isXpathSelector:isXpathSelector,queryFirst:queryFirst,queryAll:queryAll};
},{}]},{},[2]);
", <object>)
2023-07-01T08:36:28.921Z INFO devtools: RESULT {}
2023-07-01T08:36:28.921Z INFO webdriver: RESULT {}
2023-07-01T08:36:28.921Z INFO webdriver: COMMAND execute("return typeof __geminiCore !== "undefined" ? __geminiCore.prepareScreenshot(["html"], {"ignoreSelectors":[],"allowViewportOverflow":false,"captureElementFromTop":true,"usePixelRatio":true}) : {isClientScriptNotInjected: true}")
2023-07-01T08:36:28.922Z INFO devtools: COMMAND executeScript("return typeof __geminiCore !== "undefined" ? __geminiCore.prepareScreenshot(["html"], {"ignoreSelectors":[],"allowViewportOverflow":false,"captureElementFromTop":true,"usePixelRatio":true}) : {isClientScriptNotInjected: true}", <object>)
2023-07-01T08:36:28.925Z INFO devtools: RESULT {
  captureArea: { left: 0, top: 0, width: 1200, height: 683 },
  ignoreAreas: [],
  viewport: { left: 0, top: 0, width: 1200, height: 800 },
  documentHeight: 800,
  documentWidth: 1200,
  canHaveCaret: false,
  pixelRatio: 1
}
2023-07-01T08:36:28.925Z INFO webdriver: RESULT {
  captureArea: { left: 0, top: 0, width: 1200, height: 683 },
  ignoreAreas: [],
  viewport: { left: 0, top: 0, width: 1200, height: 800 },
  documentHeight: 800,
  documentWidth: 1200,
  canHaveCaret: false,
  pixelRatio: 1
}
2023-07-01T08:36:28.927Z INFO devtools: COMMAND takeScreenshot()
2023-07-01T08:36:29.078Z INFO devtools: RESULT iVBORw0KGgoAAAANSUhEUgAABLAAAAMgCAYAAAAz4JsCAAAAAXNSR0IArs4c6...
2023-07-01T08:36:29.137Z INFO webdriver: RESULT undefined
2023-07-01T08:36:29.146Z INFO webdriver: COMMAND assertView("tablet", "<Screenshot[base64]>")
2023-07-01T08:36:29.147Z INFO webdriver: COMMAND $("<Screenshot[base64]>")
2023-07-01T08:36:29.151Z INFO devtools: COMMAND findElement("css selector", "html")
2023-07-01T08:36:29.154Z INFO devtools: RESULT { 'element-6066-11e4-a52e-4f735466cecf': 'ELEMENT-4' }
2023-07-01T08:36:29.157Z INFO webdriver: RESULT Element {
  sessionId: 'fd323f62-6111-4bbf-8445-695024e2ec28',
  elementId: 'ELEMENT-4',
  'element-6066-11e4-a52e-4f735466cecf': 'ELEMENT-4',
  selector: 'html',
  parent: Browser {
    sessionId: 'fd323f62-6111-4bbf-8445-695024e2ec28',
    capabilities: {
      browserName: 'Chrome',
      browserVersion: '114.0.0.0',
      platformName: 'win32',
      platformVersion: '10.0.22621',
      'goog:chromeOptions': [Object]
    }
  },
  emit: [Function: bound ],
  isReactElement: false,
  addCommand: [Function (anonymous)],
  overwriteCommand: [Function (anonymous)]
}
2023-07-01T08:36:29.157Z INFO webdriver: COMMAND $$("<Screenshot[base64]>")
2023-07-01T08:36:29.161Z INFO devtools: COMMAND findElements("css selector", "html")
2023-07-01T08:36:29.168Z INFO devtools: RESULT [ { 'element-6066-11e4-a52e-4f735466cecf': 'ELEMENT-5' } ]
2023-07-01T08:36:29.170Z INFO webdriver: RESULT [
  Element {
    sessionId: 'fd323f62-6111-4bbf-8445-695024e2ec28',
    elementId: 'ELEMENT-5',
    'element-6066-11e4-a52e-4f735466cecf': 'ELEMENT-5',
    selector: 'html',
    parent: Browser {
      sessionId: 'fd323f62-6111-4bbf-8445-695024e2ec28',
      capabilities: [Object]
    },
    index: 0,
    emit: [Function: bound ],
    isReactElement: false,
    addCommand: [Function (anonymous)],
    overwriteCommand: [Function (anonymous)]
  },
  selector: 'html',
  parent: Browser {
    sessionId: 'fd323f62-6111-4bbf-8445-695024e2ec28',
    capabilities: {
      browserName: 'Chrome',
      browserVersion: '114.0.0.0',
      platformName: 'win32',
      platformVersion: '10.0.22621',
      'goog:chromeOptions': [Object]
    }
  },
  foundWith: '$$',
  props: []
]
2023-07-01T08:36:29.172Z INFO webdriver: COMMAND execute("return typeof __geminiCore !== "undefined" ? __geminiCore.prepareScreenshot(["html"], {"ignoreSelectors":[],"allowViewportOverflow":false,"captureElementFromTop":true,"usePixelRatio":true}) : {isClientScriptNotInjected: true}")
2023-07-01T08:36:29.179Z INFO devtools: COMMAND executeScript("return typeof __geminiCore !== "undefined" ? __geminiCore.prepareScreenshot(["html"], {"ignoreSelectors":[],"allowViewportOverflow":false,"captureElementFromTop":true,"usePixelRatio":true}) : {isClientScriptNotInjected: true}", <object>)
2023-07-01T08:36:29.185Z INFO devtools: RESULT {
  captureArea: { left: 0, top: 0, width: 783, height: 768 },
  ignoreAreas: [],
  viewport: { left: 0, top: 0, width: 783, height: 600 },
  documentHeight: 768,
  documentWidth: 783,
  canHaveCaret: false,
  pixelRatio: 1
}
2023-07-01T08:36:29.186Z INFO webdriver: RESULT {
  captureArea: { left: 0, top: 0, width: 783, height: 768 },
  ignoreAreas: [],
  viewport: { left: 0, top: 0, width: 783, height: 600 },
  documentHeight: 768,
  documentWidth: 783,
  canHaveCaret: false,
  pixelRatio: 1
}
2023-07-01T08:36:29.190Z INFO devtools: COMMAND takeScreenshot()
2023-07-01T08:36:29.262Z INFO devtools: RESULT iVBORw0KGgoAAAANSUhEUgAAAyAAAAJYCAYAAACadoJwAAAAAXNSR0IArs4c6...
2023-07-01T08:36:29.273Z INFO webdriver: COMMAND execute(<fn>, <object>)
2023-07-01T08:36:29.276Z INFO devtools: COMMAND executeScript(<fn>, <object>)
2023-07-01T08:36:29.279Z INFO webdriver: RESULT undefined
2023-07-01T08:36:29.280Z INFO devtools: COMMAND takeScreenshot()
2023-07-01T08:36:29.367Z INFO devtools: RESULT iVBORw0KGgoAAAANSUhEUgAAAyAAAAJYCAYAAACadoJwAAAAAXNSR0IArs4c6...
2023-07-01T08:36:29.391Z INFO webdriver: RESULT undefined
2023-07-01T08:36:29.400Z INFO webdriver: COMMAND assertView("mobile", "<Screenshot[base64]>")
2023-07-01T08:36:29.400Z INFO webdriver: COMMAND $("<Screenshot[base64]>")
2023-07-01T08:36:29.402Z INFO devtools: COMMAND findElement("css selector", "html")
2023-07-01T08:36:29.403Z INFO devtools: RESULT { 'element-6066-11e4-a52e-4f735466cecf': 'ELEMENT-6' }
2023-07-01T08:36:29.406Z INFO webdriver: RESULT Element {
  sessionId: 'fd323f62-6111-4bbf-8445-695024e2ec28',
  elementId: 'ELEMENT-6',
  'element-6066-11e4-a52e-4f735466cecf': 'ELEMENT-6',
  selector: 'html',
  parent: Browser {
    sessionId: 'fd323f62-6111-4bbf-8445-695024e2ec28',
    capabilities: {
      browserName: 'Chrome',
      browserVersion: '114.0.0.0',
      platformName: 'win32',
      platformVersion: '10.0.22621',
      'goog:chromeOptions': [Object]
    }
  },
  emit: [Function: bound ],
  isReactElement: false,
  addCommand: [Function (anonymous)],
  overwriteCommand: [Function (anonymous)]
}
2023-07-01T08:36:29.406Z INFO webdriver: COMMAND $$("<Screenshot[base64]>")
2023-07-01T08:36:29.408Z INFO devtools: COMMAND findElements("css selector", "html")
2023-07-01T08:36:29.411Z INFO devtools: RESULT [ { 'element-6066-11e4-a52e-4f735466cecf': 'ELEMENT-7' } ]
2023-07-01T08:36:29.413Z INFO webdriver: RESULT [
  Element {
    sessionId: 'fd323f62-6111-4bbf-8445-695024e2ec28',
    elementId: 'ELEMENT-7',
    'element-6066-11e4-a52e-4f735466cecf': 'ELEMENT-7',
    selector: 'html',
    parent: Browser {
      sessionId: 'fd323f62-6111-4bbf-8445-695024e2ec28',
      capabilities: [Object]
    },
    index: 0,
    emit: [Function: bound ],
    isReactElement: false,
    addCommand: [Function (anonymous)],
    overwriteCommand: [Function (anonymous)]
  },
  selector: 'html',
  parent: Browser {
    sessionId: 'fd323f62-6111-4bbf-8445-695024e2ec28',
    capabilities: {
      browserName: 'Chrome',
      browserVersion: '114.0.0.0',
      platformName: 'win32',
      platformVersion: '10.0.22621',
      'goog:chromeOptions': [Object]
    }
  },
  foundWith: '$$',
  props: []
]
2023-07-01T08:36:29.413Z INFO webdriver: COMMAND execute("return typeof __geminiCore !== "undefined" ? __geminiCore.prepareScreenshot(["html"], {"ignoreSelectors":[],"allowViewportOverflow":false,"captureElementFromTop":true,"usePixelRatio":true}) : {isClientScriptNotInjected: true}")
2023-07-01T08:36:29.415Z INFO devtools: COMMAND executeScript("return typeof __geminiCore !== "undefined" ? __geminiCore.prepareScreenshot(["html"], {"ignoreSelectors":[],"allowViewportOverflow":false,"captureElementFromTop":true,"usePixelRatio":true}) : {isClientScriptNotInjected: true}", <object>)
2023-07-01T08:36:29.419Z INFO devtools: RESULT {
  captureArea: { left: 0, top: 0, width: 383, height: 1239 },
  ignoreAreas: [],
  viewport: { left: 0, top: 117, width: 383, height: 600 },
  documentHeight: 1239,
  documentWidth: 383,
  canHaveCaret: false,
  pixelRatio: 1
}
2023-07-01T08:36:29.419Z INFO webdriver: RESULT {
  captureArea: { left: 0, top: 0, width: 383, height: 1239 },
  ignoreAreas: [],
  viewport: { left: 0, top: 117, width: 383, height: 600 },
  documentHeight: 1239,
  documentWidth: 383,
  canHaveCaret: false,
  pixelRatio: 1
}
2023-07-01T08:36:29.421Z INFO devtools: COMMAND takeScreenshot()
2023-07-01T08:36:29.485Z INFO devtools: RESULT iVBORw0KGgoAAAANSUhEUgAAAZAAAAJYCAYAAABM7LCIAAAAAXNSR0IArs4c6...
2023-07-01T08:36:29.495Z INFO webdriver: COMMAND execute(<fn>, <object>)
2023-07-01T08:36:29.497Z INFO devtools: COMMAND executeScript(<fn>, <object>)
2023-07-01T08:36:29.499Z INFO webdriver: RESULT undefined
2023-07-01T08:36:29.500Z INFO devtools: COMMAND takeScreenshot()
2023-07-01T08:36:29.571Z INFO devtools: RESULT iVBORw0KGgoAAAANSUhEUgAAAZAAAAJYCAYAAABM7LCIAAAAAXNSR0IArs4c6...
2023-07-01T08:36:29.595Z INFO webdriver: RESULT undefined
2023-07-01T08:36:29.596Z INFO webdriver: COMMAND extendOptions(<object>)
2023-07-01T08:36:29.596Z INFO webdriver: COMMAND execute("return {
            height: document.documentElement.scrollHeight,
            width: document.documentElement.scrollWidth
        }")
2023-07-01T08:36:29.597Z INFO webdriver: RESULT undefined
2023-07-01T08:36:29.599Z INFO devtools: COMMAND executeScript("return {
            height: document.documentElement.scrollHeight,
            width: document.documentElement.scrollWidth
        }", <object>)
2023-07-01T08:36:29.601Z INFO devtools: RESULT { height: 1239, width: 383 }
2023-07-01T08:36:29.601Z INFO webdriver: RESULT { height: 1239, width: 383 }
2023-07-01T08:36:29.601Z INFO webdriver: COMMAND execute("return typeof __geminiCore !== "undefined" ? __geminiCore.prepareScreenshot([{"left":0,"top":0,"width":383,"height":1239}], {"ignoreSelectors":[],"captureElementFromTop":true,"allowViewportOverflow":true,"usePixelRatio":true}) : {isClientScriptNotInjected: true}")
2023-07-01T08:36:29.603Z INFO devtools: COMMAND executeScript("return typeof __geminiCore !== "undefined" ? __geminiCore.prepareScreenshot([{"left":0,"top":0,"width":383,"height":1239}], {"ignoreSelectors":[],"captureElementFromTop":true,"allowViewportOverflow":true,"usePixelRatio":true}) : {isClientScriptNotInjected: true}", <object>)
2023-07-01T08:36:29.606Z INFO devtools: RESULT {
  captureArea: { left: 0, top: 0, width: 383, height: 1239 },
  ignoreAreas: [],
  viewport: { left: 0, top: 117, width: 383, height: 600 },
  documentHeight: 1239,
  documentWidth: 383,
  canHaveCaret: false,
  pixelRatio: 1
}
2023-07-01T08:36:29.607Z INFO webdriver: RESULT {
  captureArea: { left: 0, top: 0, width: 383, height: 1239 },
  ignoreAreas: [],
  viewport: { left: 0, top: 117, width: 383, height: 600 },
  documentHeight: 1239,
  documentWidth: 383,
  canHaveCaret: false,
  pixelRatio: 1
}
2023-07-01T08:36:29.609Z INFO devtools: COMMAND takeScreenshot()
2023-07-01T08:36:29.677Z INFO devtools: RESULT iVBORw0KGgoAAAANSUhEUgAAAZAAAAJYCAYAAABM7LCIAAAAAXNSR0IArs4c6...
2023-07-01T08:36:29.686Z INFO webdriver: COMMAND execute(<fn>, <object>)
2023-07-01T08:36:29.688Z INFO devtools: COMMAND executeScript(<fn>, <object>)
2023-07-01T08:36:29.690Z INFO webdriver: RESULT undefined
2023-07-01T08:36:29.691Z INFO devtools: COMMAND takeScreenshot()
2023-07-01T08:36:29.753Z INFO devtools: RESULT iVBORw0KGgoAAAANSUhEUgAAAZAAAAJYCAYAAABM7LCIAAAAAXNSR0IArs4c6...
2023-07-01T08:36:29.771Z INFO webdriver: COMMAND extendOptions(<object>)
2023-07-01T08:36:29.772Z INFO webdriver: RESULT undefined
тЬШ ╨Ю╨▒╤Й╨╕╨╡ ╤В╤А╨╡╨▒╨╛╨▓╨░╨╜╨╕╤П: ╨▓╤С╤А╤Б╤В╨║╨░ ╨┤╨╛╨╗╨╢╨╜╨░ ╨░╨┤╨░╨┐╤В╨╕╤А╨╛╨▓╨░╤В╤М╤Б╤П ╨┐╨╛╨┤ ╤И╨╕╤А╨╕╨╜╤Г ╤Н╨║╤А╨░╨╜╨░ [chrome:fd323f62-6111-4bbf-8445-695024e2ec28] - 3953ms
2023-07-01T08:36:29.810Z INFO webdriver: COMMAND addCommand("setMeta", <fn>)
2023-07-01T08:36:29.810Z INFO webdriver: COMMAND addCommand("getMeta", <fn>)
2023-07-01T08:36:29.810Z INFO webdriver: COMMAND overwriteCommand("url", <fn>)
2023-07-01T08:36:29.810Z INFO webdriver: COMMAND addCommand("assertView", <fn>)
2023-07-01T08:36:29.810Z INFO webdriver: COMMAND addCommand("assertView", <fn>, true)
2023-07-01T08:36:29.810Z INFO webdriver: COMMAND addCommand("getConfig", <fn>)
2023-07-01T08:36:29.810Z INFO webdriver: COMMAND addCommand("extendOptions", <fn>)
2023-07-01T08:36:29.811Z INFO webdriver: RESULT undefined
2023-07-01T08:36:29.811Z INFO webdriver: RESULT undefined
2023-07-01T08:36:29.811Z INFO webdriver: RESULT undefined
2023-07-01T08:36:29.811Z INFO webdriver: RESULT undefined
2023-07-01T08:36:29.811Z INFO webdriver: RESULT undefined
2023-07-01T08:36:29.811Z INFO webdriver: RESULT undefined
2023-07-01T08:36:29.811Z INFO webdriver: RESULT undefined
2023-07-01T08:36:29.955Z INFO webdriver: COMMAND $("<Screenshot[base64]>")
2023-07-01T08:36:29.959Z INFO devtools: COMMAND findElement("css selector", "body")
2023-07-01T08:36:29.961Z INFO devtools: RESULT { 'element-6066-11e4-a52e-4f735466cecf': 'ELEMENT-1' }
2023-07-01T08:36:29.966Z INFO webdriver: RESULT Element {
  sessionId: 'fd323f62-6111-4bbf-8445-695024e2ec28',
  elementId: 'ELEMENT-1',
  'element-6066-11e4-a52e-4f735466cecf': 'ELEMENT-1',
  selector: 'body',
  parent: Browser {
    sessionId: 'fd323f62-6111-4bbf-8445-695024e2ec28',
    capabilities: {
      browserName: 'Chrome',
      browserVersion: '114.0.0.0',
      platformName: 'win32',
      platformVersion: '10.0.22621',
      'goog:chromeOptions': [Object]
    }
  },
  emit: [Function: bound ],
  isReactElement: false,
  addCommand: [Function (anonymous)],
  overwriteCommand: [Function (anonymous)]
}
2023-07-01T08:36:29.966Z INFO webdriver: COMMAND execute(<fn>, <object>, true)
2023-07-01T08:36:29.969Z INFO devtools: COMMAND executeScript(<fn>, <object>)
2023-07-01T08:36:29.972Z INFO webdriver: RESULT undefined
2023-07-01T08:36:29.973Z INFO devtools: COMMAND getElementRect("ELEMENT-1")
2023-07-01T08:36:29.976Z INFO devtools: RESULT { x: 0, y: -163, width: 783, height: 743.75 }
2023-07-01T08:36:29.976Z INFO webdriver: COMMAND execute(<fn>)
2023-07-01T08:36:29.977Z INFO devtools: COMMAND executeScript(<fn>, <object>)
2023-07-01T08:36:29.979Z INFO devtools: RESULT { scrollX: 0, scrollY: 163 }
2023-07-01T08:36:29.979Z INFO webdriver: RESULT { scrollX: 0, scrollY: 163 }
2023-07-01T08:36:29.981Z INFO devtools: COMMAND performActions(<object>)
2023-07-01T08:36:30.145Z INFO devtools: COMMAND releaseActions()
2023-07-01T08:36:30.145Z INFO webdriver: COMMAND getPuppeteer()
2023-07-01T08:36:30.145Z INFO webdriver: RESULT CDPBrowser {
  eventsMap: Map(2) {
    'targetcreated' => [ [Function: bound _targetCreatedHandler] AsyncFunction ],
    'targetdestroyed' => [ [Function: bound _targetDestroyedHandler] AsyncFunction ]
  },
  emitter: {
    all: Map(2) { 'targetcreated' => [Array], 'targetdestroyed' => [Array] },
    on: [Function: on],
    off: [Function: off],
    emit: [Function: emit]
  }
}
2023-07-01T08:36:30.196Z INFO webdriver: COMMAND assertView("navbar", ".navbar")
2023-07-01T08:36:30.196Z INFO webdriver: COMMAND $(".navbar")
2023-07-01T08:36:30.198Z INFO devtools: COMMAND findElement("css selector", ".navbar")
2023-07-01T08:36:30.201Z INFO devtools: RESULT { 'element-6066-11e4-a52e-4f735466cecf': 'ELEMENT-2' }
2023-07-01T08:36:30.202Z INFO webdriver: RESULT Element {
  sessionId: 'fd323f62-6111-4bbf-8445-695024e2ec28',
  elementId: 'ELEMENT-2',
  'element-6066-11e4-a52e-4f735466cecf': 'ELEMENT-2',
  selector: '.navbar',
  parent: Browser {
    sessionId: 'fd323f62-6111-4bbf-8445-695024e2ec28',
    capabilities: {
      browserName: 'Chrome',
      browserVersion: '114.0.0.0',
      platformName: 'win32',
      platformVersion: '10.0.22621',
      'goog:chromeOptions': [Object]
    }
  },
  emit: [Function: bound ],
  isReactElement: false,
  addCommand: [Function (anonymous)],
  overwriteCommand: [Function (anonymous)]
}
2023-07-01T08:36:30.203Z INFO webdriver: COMMAND $$(".navbar")
2023-07-01T08:36:30.204Z INFO devtools: COMMAND findElements("css selector", ".navbar")
2023-07-01T08:36:30.206Z INFO devtools: RESULT [ { 'element-6066-11e4-a52e-4f735466cecf': 'ELEMENT-3' } ]
2023-07-01T08:36:30.207Z INFO webdriver: RESULT [
  Element {
    sessionId: 'fd323f62-6111-4bbf-8445-695024e2ec28',
    elementId: 'ELEMENT-3',
    'element-6066-11e4-a52e-4f735466cecf': 'ELEMENT-3',
    selector: '.navbar',
    parent: Browser {
      sessionId: 'fd323f62-6111-4bbf-8445-695024e2ec28',
      capabilities: [Object]
    },
    index: 0,
    emit: [Function: bound ],
    isReactElement: false,
    addCommand: [Function (anonymous)],
    overwriteCommand: [Function (anonymous)]
  },
  selector: '.navbar',
  parent: Browser {
    sessionId: 'fd323f62-6111-4bbf-8445-695024e2ec28',
    capabilities: {
      browserName: 'Chrome',
      browserVersion: '114.0.0.0',
      platformName: 'win32',
      platformVersion: '10.0.22621',
      'goog:chromeOptions': [Object]
    }
  },
  foundWith: '$$',
  props: []
]
2023-07-01T08:36:30.208Z INFO webdriver: COMMAND execute("return typeof __geminiCore !== "undefined" ? __geminiCore.prepareScreenshot([".navbar"], {"ignoreSelectors":[],"allowViewportOverflow":false,"captureElementFromTop":true,"usePixelRatio":true}) : {isClientScriptNotInjected: true}")
2023-07-01T08:36:30.210Z INFO devtools: COMMAND executeScript("return typeof __geminiCore !== "undefined" ? __geminiCore.prepareScreenshot([".navbar"], {"ignoreSelectors":[],"allowViewportOverflow":false,"captureElementFromTop":true,"usePixelRatio":true}) : {isClientScriptNotInjected: true}", <object>)
2023-07-01T08:36:30.211Z INFO devtools: RESULT { isClientScriptNotInjected: true }
2023-07-01T08:36:30.212Z INFO webdriver: RESULT { isClientScriptNotInjected: true }
2023-07-01T08:36:30.212Z INFO webdriver: COMMAND execute("(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";var lib=require("./lib.native.js");module.exports=function(e){return lib.queryAll(e)};
},{"./lib.native.js":3}],2:[function(require,module,exports){
(function (global){(function (){
"use strict";function prepareScreenshotUnsafe(e,t){var r=t.allowViewportOverflow,o=t.captureElementFromTop,i=window;if(t.selectorToScroll&&!(i=document.querySelector(t.selectorToScroll)))return{error:"NOTFOUND",message:'Could not find element with css selector specified in "selectorToScroll" option: '+t.selectorToScroll,selector:t.selectorToScroll};var n,l=[];if(e.forEach(function(e){Rect.isRect(e)?n=n?n.merge(new Rect(e)):new Rect(e):l.push(e)}),n=getCaptureRect(l,{allowViewportOverflow:r,scrollElem:i},n),n.error)return n;var a=document.documentElement.clientWidth,c=document.documentElement.clientHeight,u=document.documentElement.scrollWidth,s=document.documentElement.scrollHeight,d=new Rect({left:util.getScrollLeft(i),top:util.getScrollTop(i),width:a,height:c}),f=configurePixelRatio(t.usePixelRatio);if(o&&!d.rectInside(n))util.isSafariMobile()?scrollToCaptureAreaInSafari(d,n,i):i.scrollTo(n.left,n.top);else if(r&&d.rectIntersects(n))n.overflowsTopBound(d)&&n.recalculateHeight(d),n.overflowsLeftBound(d)&&n.recalculateWidth(d);else if(!o&&!d.rectIntersects(n))return{error:"OUTSIDE_OF_VIEWPORT",message:'Can not capture element, because it is outside of viewport. Try to set "captureElementFromTop=true" to scroll to it before capture.'};return{captureArea:n.serialize(),ignoreAreas:findIgnoreAreas(t.ignoreSelectors,i),viewport:{left:util.getScrollLeft(i),top:util.getScrollTop(i),width:Math.round(a),height:Math.round(c)},documentHeight:Math.round(s),documentWidth:Math.round(u),canHaveCaret:isEditable(document.activeElement),pixelRatio:f}}function getCaptureRect(e,t,r){for(var o,i,n=r,l=0;l<e.length;l++){if(!(o=lib.queryFirst(e[l])))return{error:"NOTFOUND",message:"Could not find element with css selector specified in setCaptureElements: "+e[l],selector:e[l]};i=getElementCaptureRect(o,t),i&&(n=n?n.merge(i):i)}return n?n.round():{error:"HIDDEN",message:"Area with css selector : "+e+" is hidden",selector:e}}function configurePixelRatio(e){return!1===e?1:window.devicePixelRatio?window.devicePixelRatio:window.screen.deviceXDPI/window.screen.logicalXDPI||1}function findIgnoreAreas(e,t){var r=[];return util.each(e,function(e){var o=queryIgnoreAreas(e);util.each(o,function(e){return addIgnoreArea.call(r,e,t)})}),r}function addIgnoreArea(e,t){var r=e&&getElementCaptureRect(e,{scrollElem:t});r&&this.push(r.round().serialize())}function isHidden(e,t){return"none"===e.display||"hidden"===e.visibility||e.opacity<1e-4||t.width<1e-4||t.height<1e-4}function getElementCaptureRect(e,t){var r=[":before",":after"],o=lib.getComputedStyle(e),i=rect.getAbsoluteClientRect(e,t.scrollElem);if(isHidden(o,i))return null;var n=getExtRect(o,i,t.allowViewportOverflow);return util.each(r,function(r){o=lib.getComputedStyle(e,r),n=n.merge(getExtRect(o,i,t.allowViewportOverflow))}),n}function getExtRect(e,t,r){var o=parseBoxShadow(e.boxShadow),i=parseInt(e.outlineWidth,10);return isNaN(i)&&(i=0),adjustRect(t,o,i,r)}function parseBoxShadow(e){e=e||"";var t,r=/[-+]?\d*\.?\d+px/g,o=e.split(","),i=[];return util.each(o,function(e){(t=e.match(r))&&i.push({offsetX:parseFloat(t[0]),offsetY:parseFloat(t[1])||0,blurRadius:parseFloat(t[2])||0,spreadRadius:parseFloat(t[3])||0,inset:-1!==e.indexOf("inset")})}),i}function adjustRect(e,t,r,o){var i=calculateShadowRect(e,t,o),n=calculateOutlineRect(e,r,o);return i.merge(n)}function calculateOutlineRect(e,t,r){var o=e.top-t,i=e.left-t;return new Rect({top:r?o:Math.max(0,o),left:r?i:Math.max(0,i),bottom:e.bottom+t,right:e.right+t})}function calculateShadowRect(e,t,r){var o=calculateShadowExtent(t),i=e.left+o.left,n=e.top+o.top;return new Rect({left:r?i:Math.max(0,i),top:r?n:Math.max(0,n),width:e.width-o.left+o.right,height:e.height-o.top+o.bottom})}function calculateShadowExtent(e){var t={top:0,left:0,right:0,bottom:0};return util.each(e,function(e){if(!e.inset){var r=e.spreadRadius+e.blurRadius;t.left=Math.min(e.offsetX-r,t.left),t.right=Math.max(e.offsetX+r,t.right),t.top=Math.min(e.offsetY-r,t.top),t.bottom=Math.max(e.offsetY+r,t.bottom)}}),t}function isEditable(e){return!!e&&(/^(input|textarea)$/i.test(e.tagName)||e.isContentEditable)}function scrollToCaptureAreaInSafari(e,t,r){var o=Math.round(document.documentElement.scrollHeight),i=Math.round(document.documentElement.clientHeight),n=o-i;r.scrollTo(e.left,Math.min(t.top,n))}var util=require("./util"),rect=require("./rect"),lib=require("./lib.native.js"),queryIgnoreAreas=require("./ignore-areas.js"),Rect=rect.Rect;"undefined"==typeof window?global.__geminiCore=exports:window.__geminiCore=exports,exports.queryFirst=lib.queryFirst,exports.prepareScreenshot=function(e,t){t=t||{};try{return prepareScreenshotUnsafe(e,t)}catch(r){return{error:"JS",message:r.stack||r.message}}},exports.resetZoom=function(){var e=lib.queryFirst('meta[name="viewport"]');if(!e){e=document.createElement("meta"),e.name="viewport";var t=lib.queryFirst("head");t&&t.appendChild(e)}e.content="width=device-width,initial-scale=1.0,user-scalable=no"};
}).call(this)}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"./ignore-areas.js":1,"./lib.native.js":3,"./rect":4,"./util":5}],3:[function(require,module,exports){
"use strict";var xpath=require("./xpath");exports.queryFirst=function(t){return xpath.isXpathSelector(t)?xpath.queryFirst(t):document.querySelector(t)},exports.queryAll=function(t){return xpath.isXpathSelector(t)?xpath.queryAll(t):document.querySelectorAll(t)},exports.getComputedStyle=function(t,e){return getComputedStyle(t,e)},exports.matchMedia=function(t){return matchMedia(t)},exports.trim=function(t){return t.trim()};
},{"./xpath":6}],4:[function(require,module,exports){
"use strict";function Rect(t){if(this.top=t.top,this.left=t.left,"width"in t&&"height"in t)this.width=t.width,this.height=t.height,this.bottom=t.bottom||this.top+this.height,this.right=t.right||this.left+this.width;else{if(!("bottom"in t&&"right"in t))throw new Error("Not enough data for the rect construction");this.bottom=t.bottom,this.right=t.right,this.width=t.right-Math.max(0,t.left),this.height=t.bottom-Math.max(0,t.top)}}var util=require("./util");Rect.isRect=function(t){return"object"==typeof t&&null!==t&&!Array.isArray(t)&&("left"in t&&"top"in t&&("width"in t&&"height"in t||"right"in t&&"bottom"in t))},Rect.prototype={constructor:Rect,merge:function(t){return new Rect({left:Math.min(this.left,t.left),top:Math.min(this.top,t.top),bottom:Math.max(this.bottom,t.bottom),right:Math.max(this.right,t.right)})},translate:function(t,i){return new Rect({left:this.left+t,top:this.top+i,width:this.width,height:this.height})},pointInside:function(t,i){return t>=this.left&&t<=this.right&&i>=this.top&&i<=this.bottom},rectInside:function(t){return util.every(t._keyPoints(),function(t){return this.pointInside(t[0],t[1])},this)},rectIntersects:function(t){return!(t.right<=this.left||t.bottom<=this.top||t.left>=this.right||t.top>=this.bottom)},round:function(){return new Rect({top:Math.floor(this.top),left:Math.floor(this.left),right:Math.ceil(this.right),bottom:Math.ceil(this.bottom)})},serialize:function(){return{left:this.left,top:this.top,width:this.width,height:this.height}},overflowsTopBound:function(t){return this._overflowsBound(t,"top")},overflowsLeftBound:function(t){return this._overflowsBound(t,"left")},recalculateHeight:function(t){this.height=this.height-(t.top-Math.max(0,this.top))},recalculateWidth:function(t){this.width=this.width-(t.left-Math.max(0,this.left))},_overflowsBound:function(t,i){return Math.max(0,this[i])<t[i]},_anyPointInside:function(t){return util.some(t,function(t){return this.pointInside(t[0],t[1])},this)},_keyPoints:function(){return[[this.left,this.top],[this.left,this.bottom],[this.right,this.top],[this.right,this.bottom]]}},exports.Rect=Rect,exports.getAbsoluteClientRect=function(t,i){return new Rect(t.getBoundingClientRect()).translate(util.getScrollLeft(i),util.getScrollTop(i))};
},{"./util":5}],5:[function(require,module,exports){
"use strict";function arrayUtil(r,t){return r?contextify(r):t}function contextify(r){return function(t){var e=Array.prototype.slice.call(arguments,1);return r.apply(t,e)}}function myForEach(r,t,e){for(var o=0;o<r.length;o++)t.call(e,r[o],o,r)}function mySome(r,t,e){for(var o=0;o<r.length;o++)if(t.call(e,r[o],o,r))return!0;return!1}function myEvery(r,t,e){for(var o=0;o<r.length;o++)if(!t.call(e,r[o],o,r))return!1;return!0}function getScroll(r,t,e){var o=SCROLL_DIR_NAME[t],n=PAGE_OFFSET_NAME[e];return r&&r!==window?r[o]:"undefined"!=typeof window[n]?window[n]:document.documentElement[o]}var SCROLL_DIR_NAME={top:"scrollTop",left:"scrollLeft"},PAGE_OFFSET_NAME={x:"pageXOffset",y:"pageYOffset"};exports.each=arrayUtil(Array.prototype.forEach,myForEach),exports.some=arrayUtil(Array.prototype.some,mySome),exports.every=arrayUtil(Array.prototype.every,myEvery),exports.getScrollTop=function(r){return getScroll(r,"top","y")},exports.getScrollLeft=function(r){return getScroll(r,"left","x")},exports.isSafariMobile=function(){return navigator&&"string"==typeof navigator.vendor&&navigator.vendor.match(/apple/i)&&/(iPhone|iPad).*AppleWebKit.*Safari/i.test(navigator.userAgent)};
},{}],6:[function(require,module,exports){
"use strict";function isXpathSelector(e){return XPATH_SELECTORS_START.some(function(t){return 0===e.indexOf(t)})}function queryFirst(e){return document.evaluate(e,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue}function queryAll(e){var t,u=document.evaluate(e,document,null,XPathResult.ANY_TYPE,null),r=[];for(t=u.iterateNext();t;)r.push(t),t=u.iterateNext();return r}var XPATH_SELECTORS_START=["/","(","../","./","*/"];module.exports={isXpathSelector:isXpathSelector,queryFirst:queryFirst,queryAll:queryAll};
},{}]},{},[2]);
")
2023-07-01T08:36:30.213Z INFO devtools: COMMAND executeScript("(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";var lib=require("./lib.native.js");module.exports=function(e){return lib.queryAll(e)};
},{"./lib.native.js":3}],2:[function(require,module,exports){
(function (global){(function (){
"use strict";function prepareScreenshotUnsafe(e,t){var r=t.allowViewportOverflow,o=t.captureElementFromTop,i=window;if(t.selectorToScroll&&!(i=document.querySelector(t.selectorToScroll)))return{error:"NOTFOUND",message:'Could not find element with css selector specified in "selectorToScroll" option: '+t.selectorToScroll,selector:t.selectorToScroll};var n,l=[];if(e.forEach(function(e){Rect.isRect(e)?n=n?n.merge(new Rect(e)):new Rect(e):l.push(e)}),n=getCaptureRect(l,{allowViewportOverflow:r,scrollElem:i},n),n.error)return n;var a=document.documentElement.clientWidth,c=document.documentElement.clientHeight,u=document.documentElement.scrollWidth,s=document.documentElement.scrollHeight,d=new Rect({left:util.getScrollLeft(i),top:util.getScrollTop(i),width:a,height:c}),f=configurePixelRatio(t.usePixelRatio);if(o&&!d.rectInside(n))util.isSafariMobile()?scrollToCaptureAreaInSafari(d,n,i):i.scrollTo(n.left,n.top);else if(r&&d.rectIntersects(n))n.overflowsTopBound(d)&&n.recalculateHeight(d),n.overflowsLeftBound(d)&&n.recalculateWidth(d);else if(!o&&!d.rectIntersects(n))return{error:"OUTSIDE_OF_VIEWPORT",message:'Can not capture element, because it is outside of viewport. Try to set "captureElementFromTop=true" to scroll to it before capture.'};return{captureArea:n.serialize(),ignoreAreas:findIgnoreAreas(t.ignoreSelectors,i),viewport:{left:util.getScrollLeft(i),top:util.getScrollTop(i),width:Math.round(a),height:Math.round(c)},documentHeight:Math.round(s),documentWidth:Math.round(u),canHaveCaret:isEditable(document.activeElement),pixelRatio:f}}function getCaptureRect(e,t,r){for(var o,i,n=r,l=0;l<e.length;l++){if(!(o=lib.queryFirst(e[l])))return{error:"NOTFOUND",message:"Could not find element with css selector specified in setCaptureElements: "+e[l],selector:e[l]};i=getElementCaptureRect(o,t),i&&(n=n?n.merge(i):i)}return n?n.round():{error:"HIDDEN",message:"Area with css selector : "+e+" is hidden",selector:e}}function configurePixelRatio(e){return!1===e?1:window.devicePixelRatio?window.devicePixelRatio:window.screen.deviceXDPI/window.screen.logicalXDPI||1}function findIgnoreAreas(e,t){var r=[];return util.each(e,function(e){var o=queryIgnoreAreas(e);util.each(o,function(e){return addIgnoreArea.call(r,e,t)})}),r}function addIgnoreArea(e,t){var r=e&&getElementCaptureRect(e,{scrollElem:t});r&&this.push(r.round().serialize())}function isHidden(e,t){return"none"===e.display||"hidden"===e.visibility||e.opacity<1e-4||t.width<1e-4||t.height<1e-4}function getElementCaptureRect(e,t){var r=[":before",":after"],o=lib.getComputedStyle(e),i=rect.getAbsoluteClientRect(e,t.scrollElem);if(isHidden(o,i))return null;var n=getExtRect(o,i,t.allowViewportOverflow);return util.each(r,function(r){o=lib.getComputedStyle(e,r),n=n.merge(getExtRect(o,i,t.allowViewportOverflow))}),n}function getExtRect(e,t,r){var o=parseBoxShadow(e.boxShadow),i=parseInt(e.outlineWidth,10);return isNaN(i)&&(i=0),adjustRect(t,o,i,r)}function parseBoxShadow(e){e=e||"";var t,r=/[-+]?\d*\.?\d+px/g,o=e.split(","),i=[];return util.each(o,function(e){(t=e.match(r))&&i.push({offsetX:parseFloat(t[0]),offsetY:parseFloat(t[1])||0,blurRadius:parseFloat(t[2])||0,spreadRadius:parseFloat(t[3])||0,inset:-1!==e.indexOf("inset")})}),i}function adjustRect(e,t,r,o){var i=calculateShadowRect(e,t,o),n=calculateOutlineRect(e,r,o);return i.merge(n)}function calculateOutlineRect(e,t,r){var o=e.top-t,i=e.left-t;return new Rect({top:r?o:Math.max(0,o),left:r?i:Math.max(0,i),bottom:e.bottom+t,right:e.right+t})}function calculateShadowRect(e,t,r){var o=calculateShadowExtent(t),i=e.left+o.left,n=e.top+o.top;return new Rect({left:r?i:Math.max(0,i),top:r?n:Math.max(0,n),width:e.width-o.left+o.right,height:e.height-o.top+o.bottom})}function calculateShadowExtent(e){var t={top:0,left:0,right:0,bottom:0};return util.each(e,function(e){if(!e.inset){var r=e.spreadRadius+e.blurRadius;t.left=Math.min(e.offsetX-r,t.left),t.right=Math.max(e.offsetX+r,t.right),t.top=Math.min(e.offsetY-r,t.top),t.bottom=Math.max(e.offsetY+r,t.bottom)}}),t}function isEditable(e){return!!e&&(/^(input|textarea)$/i.test(e.tagName)||e.isContentEditable)}function scrollToCaptureAreaInSafari(e,t,r){var o=Math.round(document.documentElement.scrollHeight),i=Math.round(document.documentElement.clientHeight),n=o-i;r.scrollTo(e.left,Math.min(t.top,n))}var util=require("./util"),rect=require("./rect"),lib=require("./lib.native.js"),queryIgnoreAreas=require("./ignore-areas.js"),Rect=rect.Rect;"undefined"==typeof window?global.__geminiCore=exports:window.__geminiCore=exports,exports.queryFirst=lib.queryFirst,exports.prepareScreenshot=function(e,t){t=t||{};try{return prepareScreenshotUnsafe(e,t)}catch(r){return{error:"JS",message:r.stack||r.message}}},exports.resetZoom=function(){var e=lib.queryFirst('meta[name="viewport"]');if(!e){e=document.createElement("meta"),e.name="viewport";var t=lib.queryFirst("head");t&&t.appendChild(e)}e.content="width=device-width,initial-scale=1.0,user-scalable=no"};
}).call(this)}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"./ignore-areas.js":1,"./lib.native.js":3,"./rect":4,"./util":5}],3:[function(require,module,exports){
"use strict";var xpath=require("./xpath");exports.queryFirst=function(t){return xpath.isXpathSelector(t)?xpath.queryFirst(t):document.querySelector(t)},exports.queryAll=function(t){return xpath.isXpathSelector(t)?xpath.queryAll(t):document.querySelectorAll(t)},exports.getComputedStyle=function(t,e){return getComputedStyle(t,e)},exports.matchMedia=function(t){return matchMedia(t)},exports.trim=function(t){return t.trim()};
},{"./xpath":6}],4:[function(require,module,exports){
"use strict";function Rect(t){if(this.top=t.top,this.left=t.left,"width"in t&&"height"in t)this.width=t.width,this.height=t.height,this.bottom=t.bottom||this.top+this.height,this.right=t.right||this.left+this.width;else{if(!("bottom"in t&&"right"in t))throw new Error("Not enough data for the rect construction");this.bottom=t.bottom,this.right=t.right,this.width=t.right-Math.max(0,t.left),this.height=t.bottom-Math.max(0,t.top)}}var util=require("./util");Rect.isRect=function(t){return"object"==typeof t&&null!==t&&!Array.isArray(t)&&("left"in t&&"top"in t&&("width"in t&&"height"in t||"right"in t&&"bottom"in t))},Rect.prototype={constructor:Rect,merge:function(t){return new Rect({left:Math.min(this.left,t.left),top:Math.min(this.top,t.top),bottom:Math.max(this.bottom,t.bottom),right:Math.max(this.right,t.right)})},translate:function(t,i){return new Rect({left:this.left+t,top:this.top+i,width:this.width,height:this.height})},pointInside:function(t,i){return t>=this.left&&t<=this.right&&i>=this.top&&i<=this.bottom},rectInside:function(t){return util.every(t._keyPoints(),function(t){return this.pointInside(t[0],t[1])},this)},rectIntersects:function(t){return!(t.right<=this.left||t.bottom<=this.top||t.left>=this.right||t.top>=this.bottom)},round:function(){return new Rect({top:Math.floor(this.top),left:Math.floor(this.left),right:Math.ceil(this.right),bottom:Math.ceil(this.bottom)})},serialize:function(){return{left:this.left,top:this.top,width:this.width,height:this.height}},overflowsTopBound:function(t){return this._overflowsBound(t,"top")},overflowsLeftBound:function(t){return this._overflowsBound(t,"left")},recalculateHeight:function(t){this.height=this.height-(t.top-Math.max(0,this.top))},recalculateWidth:function(t){this.width=this.width-(t.left-Math.max(0,this.left))},_overflowsBound:function(t,i){return Math.max(0,this[i])<t[i]},_anyPointInside:function(t){return util.some(t,function(t){return this.pointInside(t[0],t[1])},this)},_keyPoints:function(){return[[this.left,this.top],[this.left,this.bottom],[this.right,this.top],[this.right,this.bottom]]}},exports.Rect=Rect,exports.getAbsoluteClientRect=function(t,i){return new Rect(t.getBoundingClientRect()).translate(util.getScrollLeft(i),util.getScrollTop(i))};
},{"./util":5}],5:[function(require,module,exports){
"use strict";function arrayUtil(r,t){return r?contextify(r):t}function contextify(r){return function(t){var e=Array.prototype.slice.call(arguments,1);return r.apply(t,e)}}function myForEach(r,t,e){for(var o=0;o<r.length;o++)t.call(e,r[o],o,r)}function mySome(r,t,e){for(var o=0;o<r.length;o++)if(t.call(e,r[o],o,r))return!0;return!1}function myEvery(r,t,e){for(var o=0;o<r.length;o++)if(!t.call(e,r[o],o,r))return!1;return!0}function getScroll(r,t,e){var o=SCROLL_DIR_NAME[t],n=PAGE_OFFSET_NAME[e];return r&&r!==window?r[o]:"undefined"!=typeof window[n]?window[n]:document.documentElement[o]}var SCROLL_DIR_NAME={top:"scrollTop",left:"scrollLeft"},PAGE_OFFSET_NAME={x:"pageXOffset",y:"pageYOffset"};exports.each=arrayUtil(Array.prototype.forEach,myForEach),exports.some=arrayUtil(Array.prototype.some,mySome),exports.every=arrayUtil(Array.prototype.every,myEvery),exports.getScrollTop=function(r){return getScroll(r,"top","y")},exports.getScrollLeft=function(r){return getScroll(r,"left","x")},exports.isSafariMobile=function(){return navigator&&"string"==typeof navigator.vendor&&navigator.vendor.match(/apple/i)&&/(iPhone|iPad).*AppleWebKit.*Safari/i.test(navigator.userAgent)};
},{}],6:[function(require,module,exports){
"use strict";function isXpathSelector(e){return XPATH_SELECTORS_START.some(function(t){return 0===e.indexOf(t)})}function queryFirst(e){return document.evaluate(e,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue}function queryAll(e){var t,u=document.evaluate(e,document,null,XPathResult.ANY_TYPE,null),r=[];for(t=u.iterateNext();t;)r.push(t),t=u.iterateNext();return r}var XPATH_SELECTORS_START=["/","(","../","./","*/"];module.exports={isXpathSelector:isXpathSelector,queryFirst:queryFirst,queryAll:queryAll};
},{}]},{},[2]);
", <object>)
2023-07-01T08:36:30.215Z INFO devtools: RESULT {}
2023-07-01T08:36:30.216Z INFO webdriver: RESULT {}
2023-07-01T08:36:30.216Z INFO webdriver: COMMAND execute("return typeof __geminiCore !== "undefined" ? __geminiCore.prepareScreenshot([".navbar"], {"ignoreSelectors":[],"allowViewportOverflow":false,"captureElementFromTop":true,"usePixelRatio":true}) : {isClientScriptNotInjected: true}")
2023-07-01T08:36:30.217Z INFO devtools: COMMAND executeScript("return typeof __geminiCore !== "undefined" ? __geminiCore.prepareScreenshot([".navbar"], {"ignoreSelectors":[],"allowViewportOverflow":false,"captureElementFromTop":true,"usePixelRatio":true}) : {isClientScriptNotInjected: true}", <object>)
2023-07-01T08:36:30.219Z INFO devtools: RESULT {
  captureArea: { left: 0, top: 0, width: 783, height: 56 },
  ignoreAreas: [],
  viewport: { left: 0, top: 9, width: 783, height: 600 },
  documentHeight: 768,
  documentWidth: 783,
  canHaveCaret: false,
  pixelRatio: 1
}
2023-07-01T08:36:30.219Z INFO webdriver: RESULT {
  captureArea: { left: 0, top: 0, width: 783, height: 56 },
  ignoreAreas: [],
  viewport: { left: 0, top: 9, width: 783, height: 600 },
  documentHeight: 768,
  documentWidth: 783,
  canHaveCaret: false,
  pixelRatio: 1
}
2023-07-01T08:36:30.220Z INFO devtools: COMMAND takeScreenshot()
2023-07-01T08:36:30.308Z INFO devtools: RESULT iVBORw0KGgoAAAANSUhEUgAAAyAAAAJYCAYAAACadoJwAAAAAXNSR0IArs4c6...
2023-07-01T08:36:30.326Z INFO webdriver: RESULT undefined
╨Э╨░╨╣╨┤╨╡╨╜╨╜╤Л╨╡ ╤Б╤Б╤Л╨╗╨║╨╕: /hw/store/,/hw/store/catalog,/hw/store/delivery,/hw/store/contacts,/hw/store/cart
тЬУ ╨Ю╨▒╤Й╨╕╨╡ ╤В╤А╨╡╨▒╨╛╨▓╨░╨╜╨╕╤П: ╨▓ ╤И╨░╨┐╨║╨╡ ╨╛╤В╨╛╨▒╤А╨░╨╢╨░╤О╤В╤Б╤П ╤Б╤Б╤Л╨╗╨║╨╕ ╨╜╨░ ╤Б╤В╤А╨░╨╜╨╕╤Ж╤Л ╨╝╨░╨│╨░╨╖╨╕╨╜╨░, ╨░ ╤В╨░╨║╨╢╨╡ ╤Б╤Б╤Л╨╗╨║╨░ ╨╜╨░ ╨║╨╛╤А╨╖╨╕╨╜╤Г [chrome:fd323f62-6111-4bbf-8445-695024e2ec28] - 555ms
2023-07-01T08:36:30.351Z INFO webdriver: COMMAND addCommand("setMeta", <fn>)
2023-07-01T08:36:30.351Z INFO webdriver: COMMAND addCommand("getMeta", <fn>)
2023-07-01T08:36:30.351Z INFO webdriver: COMMAND overwriteCommand("url", <fn>)
2023-07-01T08:36:30.351Z INFO webdriver: COMMAND addCommand("assertView", <fn>)
2023-07-01T08:36:30.351Z INFO webdriver: COMMAND addCommand("assertView", <fn>, true)
2023-07-01T08:36:30.351Z INFO webdriver: COMMAND addCommand("getConfig", <fn>)
2023-07-01T08:36:30.352Z INFO webdriver: COMMAND addCommand("extendOptions", <fn>)
2023-07-01T08:36:30.352Z INFO webdriver: RESULT undefined
2023-07-01T08:36:30.352Z INFO webdriver: RESULT undefined
2023-07-01T08:36:30.352Z INFO webdriver: RESULT undefined
2023-07-01T08:36:30.352Z INFO webdriver: RESULT undefined
2023-07-01T08:36:30.352Z INFO webdriver: RESULT undefined
2023-07-01T08:36:30.352Z INFO webdriver: RESULT undefined
2023-07-01T08:36:30.352Z INFO webdriver: RESULT undefined
2023-07-01T08:36:30.492Z INFO webdriver: COMMAND $("<Screenshot[base64]>")
2023-07-01T08:36:30.496Z INFO devtools: COMMAND findElement("css selector", "body")
2023-07-01T08:36:30.498Z INFO devtools: RESULT { 'element-6066-11e4-a52e-4f735466cecf': 'ELEMENT-1' }
2023-07-01T08:36:30.500Z INFO webdriver: RESULT Element {
  sessionId: 'fd323f62-6111-4bbf-8445-695024e2ec28',
  elementId: 'ELEMENT-1',
  'element-6066-11e4-a52e-4f735466cecf': 'ELEMENT-1',
  selector: 'body',
  parent: Browser {
    sessionId: 'fd323f62-6111-4bbf-8445-695024e2ec28',
    capabilities: {
      browserName: 'Chrome',
      browserVersion: '114.0.0.0',
      platformName: 'win32',
      platformVersion: '10.0.22621',
      'goog:chromeOptions': [Object]
    }
  },
  emit: [Function: bound ],
  isReactElement: false,
  addCommand: [Function (anonymous)],
  overwriteCommand: [Function (anonymous)]
}
2023-07-01T08:36:30.500Z INFO webdriver: COMMAND execute(<fn>, <object>, true)
2023-07-01T08:36:30.501Z INFO devtools: COMMAND executeScript(<fn>, <object>)
2023-07-01T08:36:30.504Z INFO webdriver: RESULT undefined
2023-07-01T08:36:30.506Z INFO devtools: COMMAND getElementRect("ELEMENT-1")
2023-07-01T08:36:30.508Z INFO devtools: RESULT { x: 0, y: 0, width: 783, height: 743.75 }
2023-07-01T08:36:30.508Z INFO webdriver: COMMAND execute(<fn>)
2023-07-01T08:36:30.509Z INFO devtools: COMMAND executeScript(<fn>, <object>)
2023-07-01T08:36:30.511Z INFO devtools: RESULT { scrollX: 0, scrollY: 0 }
2023-07-01T08:36:30.511Z INFO webdriver: RESULT { scrollX: 0, scrollY: 0 }
2023-07-01T08:36:30.512Z INFO devtools: COMMAND performActions(<object>)
2023-07-01T08:36:30.669Z INFO devtools: COMMAND releaseActions()
2023-07-01T08:36:30.670Z INFO webdriver: COMMAND getPuppeteer()
2023-07-01T08:36:30.670Z INFO webdriver: RESULT CDPBrowser {
  eventsMap: Map(2) {
    'targetcreated' => [ [Function: bound _targetCreatedHandler] AsyncFunction ],
    'targetdestroyed' => [ [Function: bound _targetDestroyedHandler] AsyncFunction ]
  },
  emitter: {
    all: Map(2) { 'targetcreated' => [Array], 'targetdestroyed' => [Array] },
    on: [Function: on],
    off: [Function: off],
    emit: [Function: emit]
  }
}
╨б╤Б╤Л╨╗╨║╨░ ╨╜╨░ ╨│╨╗╨░╨▓╨╜╤Г╤О ╤Б╤В╤А╨░╨╜╨╕╤Ж╤Г: /hw/store/
тЬУ ╨Ю╨▒╤Й╨╕╨╡ ╤В╤А╨╡╨▒╨╛╨▓╨░╨╜╨╕╤П: ╨╜╨░╨╖╨▓╨░╨╜╨╕╨╡ ╨╝╨░╨│╨░╨╖╨╕╨╜╨░ ╨▓ ╤И╨░╨┐╨║╨╡ ╨┤╨╛╨╗╨╢╨╜╨╛ ╨▒╤Л╤В╤М ╤Б╤Б╤Л╨╗╨║╨╛╨╣ ╨╜╨░ ╨│╨╗╨░╨▓╨╜╤Г╤О ╤Б╤В╤А╨░╨╜╨╕╤Ж╤Г [chrome:fd323f62-6111-4bbf-8445-695024e2ec28] - 392ms
2023-07-01T08:36:30.746Z INFO webdriver: COMMAND addCommand("setMeta", <fn>)
2023-07-01T08:36:30.746Z INFO webdriver: COMMAND addCommand("getMeta", <fn>)
2023-07-01T08:36:30.746Z INFO webdriver: COMMAND overwriteCommand("url", <fn>)
2023-07-01T08:36:30.747Z INFO webdriver: COMMAND addCommand("assertView", <fn>)
2023-07-01T08:36:30.747Z INFO webdriver: COMMAND addCommand("assertView", <fn>, true)
2023-07-01T08:36:30.747Z INFO webdriver: COMMAND addCommand("getConfig", <fn>)
2023-07-01T08:36:30.747Z INFO webdriver: COMMAND addCommand("extendOptions", <fn>)
2023-07-01T08:36:30.747Z INFO webdriver: RESULT undefined
2023-07-01T08:36:30.747Z INFO webdriver: RESULT undefined
2023-07-01T08:36:30.747Z INFO webdriver: RESULT undefined
2023-07-01T08:36:30.747Z INFO webdriver: RESULT undefined
2023-07-01T08:36:30.747Z INFO webdriver: RESULT undefined
2023-07-01T08:36:30.747Z INFO webdriver: RESULT undefined
2023-07-01T08:36:30.747Z INFO webdriver: RESULT undefined
2023-07-01T08:36:30.848Z INFO webdriver: COMMAND $("<Screenshot[base64]>")
2023-07-01T08:36:30.851Z INFO devtools: COMMAND findElement("css selector", "body")
2023-07-01T08:36:30.852Z INFO devtools: RESULT { 'element-6066-11e4-a52e-4f735466cecf': 'ELEMENT-1' }
2023-07-01T08:36:30.855Z INFO webdriver: RESULT Element {
  sessionId: 'fd323f62-6111-4bbf-8445-695024e2ec28',
  elementId: 'ELEMENT-1',
  'element-6066-11e4-a52e-4f735466cecf': 'ELEMENT-1',
  selector: 'body',
  parent: Browser {
    sessionId: 'fd323f62-6111-4bbf-8445-695024e2ec28',
    capabilities: {
      browserName: 'Chrome',
      browserVersion: '114.0.0.0',
      platformName: 'win32',
      platformVersion: '10.0.22621',
      'goog:chromeOptions': [Object]
    }
  },
  emit: [Function: bound ],
  isReactElement: false,
  addCommand: [Function (anonymous)],
  overwriteCommand: [Function (anonymous)]
}
2023-07-01T08:36:30.855Z INFO webdriver: COMMAND execute(<fn>, <object>, true)
2023-07-01T08:36:30.859Z INFO devtools: COMMAND executeScript(<fn>, <object>)
2023-07-01T08:36:30.862Z INFO webdriver: RESULT undefined
2023-07-01T08:36:30.863Z INFO devtools: COMMAND getElementRect("ELEMENT-1")
2023-07-01T08:36:30.865Z INFO devtools: RESULT { x: 0, y: 0, width: 783, height: 743.75 }
2023-07-01T08:36:30.866Z INFO webdriver: COMMAND execute(<fn>)
2023-07-01T08:36:30.867Z INFO devtools: COMMAND executeScript(<fn>, <object>)
2023-07-01T08:36:30.869Z INFO devtools: RESULT { scrollX: 0, scrollY: 0 }
2023-07-01T08:36:30.869Z INFO webdriver: RESULT { scrollX: 0, scrollY: 0 }
2023-07-01T08:36:30.870Z INFO devtools: COMMAND performActions(<object>)
2023-07-01T08:36:31.014Z INFO devtools: COMMAND releaseActions()
2023-07-01T08:36:31.015Z INFO webdriver: COMMAND getPuppeteer()
2023-07-01T08:36:31.015Z INFO webdriver: RESULT CDPBrowser {
  eventsMap: Map(2) {
    'targetcreated' => [ [Function: bound _targetCreatedHandler] AsyncFunction ],
    'targetdestroyed' => [ [Function: bound _targetDestroyedHandler] AsyncFunction ]
  },
  emitter: {
    all: Map(2) { 'targetcreated' => [Array], 'targetdestroyed' => [Array] },
    on: [Function: on],
    off: [Function: off],
    emit: [Function: emit]
  }
}
2023-07-01T08:36:31.072Z INFO webdriver: COMMAND assertView("navbar with toggler", ".navbar")
2023-07-01T08:36:31.072Z INFO webdriver: COMMAND $(".navbar")
2023-07-01T08:36:31.074Z INFO devtools: COMMAND findElement("css selector", ".navbar")
2023-07-01T08:36:31.076Z INFO devtools: RESULT { 'element-6066-11e4-a52e-4f735466cecf': 'ELEMENT-2' }
2023-07-01T08:36:31.078Z INFO webdriver: RESULT Element {
  sessionId: 'fd323f62-6111-4bbf-8445-695024e2ec28',
  elementId: 'ELEMENT-2',
  'element-6066-11e4-a52e-4f735466cecf': 'ELEMENT-2',
  selector: '.navbar',
  parent: Browser {
    sessionId: 'fd323f62-6111-4bbf-8445-695024e2ec28',
    capabilities: {
      browserName: 'Chrome',
      browserVersion: '114.0.0.0',
      platformName: 'win32',
      platformVersion: '10.0.22621',
      'goog:chromeOptions': [Object]
    }
  },
  emit: [Function: bound ],
  isReactElement: false,
  addCommand: [Function (anonymous)],
  overwriteCommand: [Function (anonymous)]
}
2023-07-01T08:36:31.078Z INFO webdriver: COMMAND $$(".navbar")
2023-07-01T08:36:31.081Z INFO devtools: COMMAND findElements("css selector", ".navbar")
2023-07-01T08:36:31.083Z INFO devtools: RESULT [ { 'element-6066-11e4-a52e-4f735466cecf': 'ELEMENT-3' } ]
2023-07-01T08:36:31.084Z INFO webdriver: RESULT [
  Element {
    sessionId: 'fd323f62-6111-4bbf-8445-695024e2ec28',
    elementId: 'ELEMENT-3',
    'element-6066-11e4-a52e-4f735466cecf': 'ELEMENT-3',
    selector: '.navbar',
    parent: Browser {
      sessionId: 'fd323f62-6111-4bbf-8445-695024e2ec28',
      capabilities: [Object]
    },
    index: 0,
    emit: [Function: bound ],
    isReactElement: false,
    addCommand: [Function (anonymous)],
    overwriteCommand: [Function (anonymous)]
  },
  selector: '.navbar',
  parent: Browser {
    sessionId: 'fd323f62-6111-4bbf-8445-695024e2ec28',
    capabilities: {
      browserName: 'Chrome',
      browserVersion: '114.0.0.0',
      platformName: 'win32',
      platformVersion: '10.0.22621',
      'goog:chromeOptions': [Object]
    }
  },
  foundWith: '$$',
  props: []
]
2023-07-01T08:36:31.085Z INFO webdriver: COMMAND execute("return typeof __geminiCore !== "undefined" ? __geminiCore.prepareScreenshot([".navbar"], {"ignoreSelectors":[],"allowViewportOverflow":false,"captureElementFromTop":true,"usePixelRatio":true}) : {isClientScriptNotInjected: true}")
2023-07-01T08:36:31.086Z INFO devtools: COMMAND executeScript("return typeof __geminiCore !== "undefined" ? __geminiCore.prepareScreenshot([".navbar"], {"ignoreSelectors":[],"allowViewportOverflow":false,"captureElementFromTop":true,"usePixelRatio":true}) : {isClientScriptNotInjected: true}", <object>)
2023-07-01T08:36:31.089Z INFO devtools: RESULT { isClientScriptNotInjected: true }
2023-07-01T08:36:31.089Z INFO webdriver: RESULT { isClientScriptNotInjected: true }
2023-07-01T08:36:31.089Z INFO webdriver: COMMAND execute("(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";var lib=require("./lib.native.js");module.exports=function(e){return lib.queryAll(e)};
},{"./lib.native.js":3}],2:[function(require,module,exports){
(function (global){(function (){
"use strict";function prepareScreenshotUnsafe(e,t){var r=t.allowViewportOverflow,o=t.captureElementFromTop,i=window;if(t.selectorToScroll&&!(i=document.querySelector(t.selectorToScroll)))return{error:"NOTFOUND",message:'Could not find element with css selector specified in "selectorToScroll" option: '+t.selectorToScroll,selector:t.selectorToScroll};var n,l=[];if(e.forEach(function(e){Rect.isRect(e)?n=n?n.merge(new Rect(e)):new Rect(e):l.push(e)}),n=getCaptureRect(l,{allowViewportOverflow:r,scrollElem:i},n),n.error)return n;var a=document.documentElement.clientWidth,c=document.documentElement.clientHeight,u=document.documentElement.scrollWidth,s=document.documentElement.scrollHeight,d=new Rect({left:util.getScrollLeft(i),top:util.getScrollTop(i),width:a,height:c}),f=configurePixelRatio(t.usePixelRatio);if(o&&!d.rectInside(n))util.isSafariMobile()?scrollToCaptureAreaInSafari(d,n,i):i.scrollTo(n.left,n.top);else if(r&&d.rectIntersects(n))n.overflowsTopBound(d)&&n.recalculateHeight(d),n.overflowsLeftBound(d)&&n.recalculateWidth(d);else if(!o&&!d.rectIntersects(n))return{error:"OUTSIDE_OF_VIEWPORT",message:'Can not capture element, because it is outside of viewport. Try to set "captureElementFromTop=true" to scroll to it before capture.'};return{captureArea:n.serialize(),ignoreAreas:findIgnoreAreas(t.ignoreSelectors,i),viewport:{left:util.getScrollLeft(i),top:util.getScrollTop(i),width:Math.round(a),height:Math.round(c)},documentHeight:Math.round(s),documentWidth:Math.round(u),canHaveCaret:isEditable(document.activeElement),pixelRatio:f}}function getCaptureRect(e,t,r){for(var o,i,n=r,l=0;l<e.length;l++){if(!(o=lib.queryFirst(e[l])))return{error:"NOTFOUND",message:"Could not find element with css selector specified in setCaptureElements: "+e[l],selector:e[l]};i=getElementCaptureRect(o,t),i&&(n=n?n.merge(i):i)}return n?n.round():{error:"HIDDEN",message:"Area with css selector : "+e+" is hidden",selector:e}}function configurePixelRatio(e){return!1===e?1:window.devicePixelRatio?window.devicePixelRatio:window.screen.deviceXDPI/window.screen.logicalXDPI||1}function findIgnoreAreas(e,t){var r=[];return util.each(e,function(e){var o=queryIgnoreAreas(e);util.each(o,function(e){return addIgnoreArea.call(r,e,t)})}),r}function addIgnoreArea(e,t){var r=e&&getElementCaptureRect(e,{scrollElem:t});r&&this.push(r.round().serialize())}function isHidden(e,t){return"none"===e.display||"hidden"===e.visibility||e.opacity<1e-4||t.width<1e-4||t.height<1e-4}function getElementCaptureRect(e,t){var r=[":before",":after"],o=lib.getComputedStyle(e),i=rect.getAbsoluteClientRect(e,t.scrollElem);if(isHidden(o,i))return null;var n=getExtRect(o,i,t.allowViewportOverflow);return util.each(r,function(r){o=lib.getComputedStyle(e,r),n=n.merge(getExtRect(o,i,t.allowViewportOverflow))}),n}function getExtRect(e,t,r){var o=parseBoxShadow(e.boxShadow),i=parseInt(e.outlineWidth,10);return isNaN(i)&&(i=0),adjustRect(t,o,i,r)}function parseBoxShadow(e){e=e||"";var t,r=/[-+]?\d*\.?\d+px/g,o=e.split(","),i=[];return util.each(o,function(e){(t=e.match(r))&&i.push({offsetX:parseFloat(t[0]),offsetY:parseFloat(t[1])||0,blurRadius:parseFloat(t[2])||0,spreadRadius:parseFloat(t[3])||0,inset:-1!==e.indexOf("inset")})}),i}function adjustRect(e,t,r,o){var i=calculateShadowRect(e,t,o),n=calculateOutlineRect(e,r,o);return i.merge(n)}function calculateOutlineRect(e,t,r){var o=e.top-t,i=e.left-t;return new Rect({top:r?o:Math.max(0,o),left:r?i:Math.max(0,i),bottom:e.bottom+t,right:e.right+t})}function calculateShadowRect(e,t,r){var o=calculateShadowExtent(t),i=e.left+o.left,n=e.top+o.top;return new Rect({left:r?i:Math.max(0,i),top:r?n:Math.max(0,n),width:e.width-o.left+o.right,height:e.height-o.top+o.bottom})}function calculateShadowExtent(e){var t={top:0,left:0,right:0,bottom:0};return util.each(e,function(e){if(!e.inset){var r=e.spreadRadius+e.blurRadius;t.left=Math.min(e.offsetX-r,t.left),t.right=Math.max(e.offsetX+r,t.right),t.top=Math.min(e.offsetY-r,t.top),t.bottom=Math.max(e.offsetY+r,t.bottom)}}),t}function isEditable(e){return!!e&&(/^(input|textarea)$/i.test(e.tagName)||e.isContentEditable)}function scrollToCaptureAreaInSafari(e,t,r){var o=Math.round(document.documentElement.scrollHeight),i=Math.round(document.documentElement.clientHeight),n=o-i;r.scrollTo(e.left,Math.min(t.top,n))}var util=require("./util"),rect=require("./rect"),lib=require("./lib.native.js"),queryIgnoreAreas=require("./ignore-areas.js"),Rect=rect.Rect;"undefined"==typeof window?global.__geminiCore=exports:window.__geminiCore=exports,exports.queryFirst=lib.queryFirst,exports.prepareScreenshot=function(e,t){t=t||{};try{return prepareScreenshotUnsafe(e,t)}catch(r){return{error:"JS",message:r.stack||r.message}}},exports.resetZoom=function(){var e=lib.queryFirst('meta[name="viewport"]');if(!e){e=document.createElement("meta"),e.name="viewport";var t=lib.queryFirst("head");t&&t.appendChild(e)}e.content="width=device-width,initial-scale=1.0,user-scalable=no"};
}).call(this)}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"./ignore-areas.js":1,"./lib.native.js":3,"./rect":4,"./util":5}],3:[function(require,module,exports){
"use strict";var xpath=require("./xpath");exports.queryFirst=function(t){return xpath.isXpathSelector(t)?xpath.queryFirst(t):document.querySelector(t)},exports.queryAll=function(t){return xpath.isXpathSelector(t)?xpath.queryAll(t):document.querySelectorAll(t)},exports.getComputedStyle=function(t,e){return getComputedStyle(t,e)},exports.matchMedia=function(t){return matchMedia(t)},exports.trim=function(t){return t.trim()};
},{"./xpath":6}],4:[function(require,module,exports){
"use strict";function Rect(t){if(this.top=t.top,this.left=t.left,"width"in t&&"height"in t)this.width=t.width,this.height=t.height,this.bottom=t.bottom||this.top+this.height,this.right=t.right||this.left+this.width;else{if(!("bottom"in t&&"right"in t))throw new Error("Not enough data for the rect construction");this.bottom=t.bottom,this.right=t.right,this.width=t.right-Math.max(0,t.left),this.height=t.bottom-Math.max(0,t.top)}}var util=require("./util");Rect.isRect=function(t){return"object"==typeof t&&null!==t&&!Array.isArray(t)&&("left"in t&&"top"in t&&("width"in t&&"height"in t||"right"in t&&"bottom"in t))},Rect.prototype={constructor:Rect,merge:function(t){return new Rect({left:Math.min(this.left,t.left),top:Math.min(this.top,t.top),bottom:Math.max(this.bottom,t.bottom),right:Math.max(this.right,t.right)})},translate:function(t,i){return new Rect({left:this.left+t,top:this.top+i,width:this.width,height:this.height})},pointInside:function(t,i){return t>=this.left&&t<=this.right&&i>=this.top&&i<=this.bottom},rectInside:function(t){return util.every(t._keyPoints(),function(t){return this.pointInside(t[0],t[1])},this)},rectIntersects:function(t){return!(t.right<=this.left||t.bottom<=this.top||t.left>=this.right||t.top>=this.bottom)},round:function(){return new Rect({top:Math.floor(this.top),left:Math.floor(this.left),right:Math.ceil(this.right),bottom:Math.ceil(this.bottom)})},serialize:function(){return{left:this.left,top:this.top,width:this.width,height:this.height}},overflowsTopBound:function(t){return this._overflowsBound(t,"top")},overflowsLeftBound:function(t){return this._overflowsBound(t,"left")},recalculateHeight:function(t){this.height=this.height-(t.top-Math.max(0,this.top))},recalculateWidth:function(t){this.width=this.width-(t.left-Math.max(0,this.left))},_overflowsBound:function(t,i){return Math.max(0,this[i])<t[i]},_anyPointInside:function(t){return util.some(t,function(t){return this.pointInside(t[0],t[1])},this)},_keyPoints:function(){return[[this.left,this.top],[this.left,this.bottom],[this.right,this.top],[this.right,this.bottom]]}},exports.Rect=Rect,exports.getAbsoluteClientRect=function(t,i){return new Rect(t.getBoundingClientRect()).translate(util.getScrollLeft(i),util.getScrollTop(i))};
},{"./util":5}],5:[function(require,module,exports){
"use strict";function arrayUtil(r,t){return r?contextify(r):t}function contextify(r){return function(t){var e=Array.prototype.slice.call(arguments,1);return r.apply(t,e)}}function myForEach(r,t,e){for(var o=0;o<r.length;o++)t.call(e,r[o],o,r)}function mySome(r,t,e){for(var o=0;o<r.length;o++)if(t.call(e,r[o],o,r))return!0;return!1}function myEvery(r,t,e){for(var o=0;o<r.length;o++)if(!t.call(e,r[o],o,r))return!1;return!0}function getScroll(r,t,e){var o=SCROLL_DIR_NAME[t],n=PAGE_OFFSET_NAME[e];return r&&r!==window?r[o]:"undefined"!=typeof window[n]?window[n]:document.documentElement[o]}var SCROLL_DIR_NAME={top:"scrollTop",left:"scrollLeft"},PAGE_OFFSET_NAME={x:"pageXOffset",y:"pageYOffset"};exports.each=arrayUtil(Array.prototype.forEach,myForEach),exports.some=arrayUtil(Array.prototype.some,mySome),exports.every=arrayUtil(Array.prototype.every,myEvery),exports.getScrollTop=function(r){return getScroll(r,"top","y")},exports.getScrollLeft=function(r){return getScroll(r,"left","x")},exports.isSafariMobile=function(){return navigator&&"string"==typeof navigator.vendor&&navigator.vendor.match(/apple/i)&&/(iPhone|iPad).*AppleWebKit.*Safari/i.test(navigator.userAgent)};
},{}],6:[function(require,module,exports){
"use strict";function isXpathSelector(e){return XPATH_SELECTORS_START.some(function(t){return 0===e.indexOf(t)})}function queryFirst(e){return document.evaluate(e,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue}function queryAll(e){var t,u=document.evaluate(e,document,null,XPathResult.ANY_TYPE,null),r=[];for(t=u.iterateNext();t;)r.push(t),t=u.iterateNext();return r}var XPATH_SELECTORS_START=["/","(","../","./","*/"];module.exports={isXpathSelector:isXpathSelector,queryFirst:queryFirst,queryAll:queryAll};
},{}]},{},[2]);
")
2023-07-01T08:36:31.092Z INFO devtools: COMMAND executeScript("(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";var lib=require("./lib.native.js");module.exports=function(e){return lib.queryAll(e)};
},{"./lib.native.js":3}],2:[function(require,module,exports){
(function (global){(function (){
"use strict";function prepareScreenshotUnsafe(e,t){var r=t.allowViewportOverflow,o=t.captureElementFromTop,i=window;if(t.selectorToScroll&&!(i=document.querySelector(t.selectorToScroll)))return{error:"NOTFOUND",message:'Could not find element with css selector specified in "selectorToScroll" option: '+t.selectorToScroll,selector:t.selectorToScroll};var n,l=[];if(e.forEach(function(e){Rect.isRect(e)?n=n?n.merge(new Rect(e)):new Rect(e):l.push(e)}),n=getCaptureRect(l,{allowViewportOverflow:r,scrollElem:i},n),n.error)return n;var a=document.documentElement.clientWidth,c=document.documentElement.clientHeight,u=document.documentElement.scrollWidth,s=document.documentElement.scrollHeight,d=new Rect({left:util.getScrollLeft(i),top:util.getScrollTop(i),width:a,height:c}),f=configurePixelRatio(t.usePixelRatio);if(o&&!d.rectInside(n))util.isSafariMobile()?scrollToCaptureAreaInSafari(d,n,i):i.scrollTo(n.left,n.top);else if(r&&d.rectIntersects(n))n.overflowsTopBound(d)&&n.recalculateHeight(d),n.overflowsLeftBound(d)&&n.recalculateWidth(d);else if(!o&&!d.rectIntersects(n))return{error:"OUTSIDE_OF_VIEWPORT",message:'Can not capture element, because it is outside of viewport. Try to set "captureElementFromTop=true" to scroll to it before capture.'};return{captureArea:n.serialize(),ignoreAreas:findIgnoreAreas(t.ignoreSelectors,i),viewport:{left:util.getScrollLeft(i),top:util.getScrollTop(i),width:Math.round(a),height:Math.round(c)},documentHeight:Math.round(s),documentWidth:Math.round(u),canHaveCaret:isEditable(document.activeElement),pixelRatio:f}}function getCaptureRect(e,t,r){for(var o,i,n=r,l=0;l<e.length;l++){if(!(o=lib.queryFirst(e[l])))return{error:"NOTFOUND",message:"Could not find element with css selector specified in setCaptureElements: "+e[l],selector:e[l]};i=getElementCaptureRect(o,t),i&&(n=n?n.merge(i):i)}return n?n.round():{error:"HIDDEN",message:"Area with css selector : "+e+" is hidden",selector:e}}function configurePixelRatio(e){return!1===e?1:window.devicePixelRatio?window.devicePixelRatio:window.screen.deviceXDPI/window.screen.logicalXDPI||1}function findIgnoreAreas(e,t){var r=[];return util.each(e,function(e){var o=queryIgnoreAreas(e);util.each(o,function(e){return addIgnoreArea.call(r,e,t)})}),r}function addIgnoreArea(e,t){var r=e&&getElementCaptureRect(e,{scrollElem:t});r&&this.push(r.round().serialize())}function isHidden(e,t){return"none"===e.display||"hidden"===e.visibility||e.opacity<1e-4||t.width<1e-4||t.height<1e-4}function getElementCaptureRect(e,t){var r=[":before",":after"],o=lib.getComputedStyle(e),i=rect.getAbsoluteClientRect(e,t.scrollElem);if(isHidden(o,i))return null;var n=getExtRect(o,i,t.allowViewportOverflow);return util.each(r,function(r){o=lib.getComputedStyle(e,r),n=n.merge(getExtRect(o,i,t.allowViewportOverflow))}),n}function getExtRect(e,t,r){var o=parseBoxShadow(e.boxShadow),i=parseInt(e.outlineWidth,10);return isNaN(i)&&(i=0),adjustRect(t,o,i,r)}function parseBoxShadow(e){e=e||"";var t,r=/[-+]?\d*\.?\d+px/g,o=e.split(","),i=[];return util.each(o,function(e){(t=e.match(r))&&i.push({offsetX:parseFloat(t[0]),offsetY:parseFloat(t[1])||0,blurRadius:parseFloat(t[2])||0,spreadRadius:parseFloat(t[3])||0,inset:-1!==e.indexOf("inset")})}),i}function adjustRect(e,t,r,o){var i=calculateShadowRect(e,t,o),n=calculateOutlineRect(e,r,o);return i.merge(n)}function calculateOutlineRect(e,t,r){var o=e.top-t,i=e.left-t;return new Rect({top:r?o:Math.max(0,o),left:r?i:Math.max(0,i),bottom:e.bottom+t,right:e.right+t})}function calculateShadowRect(e,t,r){var o=calculateShadowExtent(t),i=e.left+o.left,n=e.top+o.top;return new Rect({left:r?i:Math.max(0,i),top:r?n:Math.max(0,n),width:e.width-o.left+o.right,height:e.height-o.top+o.bottom})}function calculateShadowExtent(e){var t={top:0,left:0,right:0,bottom:0};return util.each(e,function(e){if(!e.inset){var r=e.spreadRadius+e.blurRadius;t.left=Math.min(e.offsetX-r,t.left),t.right=Math.max(e.offsetX+r,t.right),t.top=Math.min(e.offsetY-r,t.top),t.bottom=Math.max(e.offsetY+r,t.bottom)}}),t}function isEditable(e){return!!e&&(/^(input|textarea)$/i.test(e.tagName)||e.isContentEditable)}function scrollToCaptureAreaInSafari(e,t,r){var o=Math.round(document.documentElement.scrollHeight),i=Math.round(document.documentElement.clientHeight),n=o-i;r.scrollTo(e.left,Math.min(t.top,n))}var util=require("./util"),rect=require("./rect"),lib=require("./lib.native.js"),queryIgnoreAreas=require("./ignore-areas.js"),Rect=rect.Rect;"undefined"==typeof window?global.__geminiCore=exports:window.__geminiCore=exports,exports.queryFirst=lib.queryFirst,exports.prepareScreenshot=function(e,t){t=t||{};try{return prepareScreenshotUnsafe(e,t)}catch(r){return{error:"JS",message:r.stack||r.message}}},exports.resetZoom=function(){var e=lib.queryFirst('meta[name="viewport"]');if(!e){e=document.createElement("meta"),e.name="viewport";var t=lib.queryFirst("head");t&&t.appendChild(e)}e.content="width=device-width,initial-scale=1.0,user-scalable=no"};
}).call(this)}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"./ignore-areas.js":1,"./lib.native.js":3,"./rect":4,"./util":5}],3:[function(require,module,exports){
"use strict";var xpath=require("./xpath");exports.queryFirst=function(t){return xpath.isXpathSelector(t)?xpath.queryFirst(t):document.querySelector(t)},exports.queryAll=function(t){return xpath.isXpathSelector(t)?xpath.queryAll(t):document.querySelectorAll(t)},exports.getComputedStyle=function(t,e){return getComputedStyle(t,e)},exports.matchMedia=function(t){return matchMedia(t)},exports.trim=function(t){return t.trim()};
},{"./xpath":6}],4:[function(require,module,exports){
"use strict";function Rect(t){if(this.top=t.top,this.left=t.left,"width"in t&&"height"in t)this.width=t.width,this.height=t.height,this.bottom=t.bottom||this.top+this.height,this.right=t.right||this.left+this.width;else{if(!("bottom"in t&&"right"in t))throw new Error("Not enough data for the rect construction");this.bottom=t.bottom,this.right=t.right,this.width=t.right-Math.max(0,t.left),this.height=t.bottom-Math.max(0,t.top)}}var util=require("./util");Rect.isRect=function(t){return"object"==typeof t&&null!==t&&!Array.isArray(t)&&("left"in t&&"top"in t&&("width"in t&&"height"in t||"right"in t&&"bottom"in t))},Rect.prototype={constructor:Rect,merge:function(t){return new Rect({left:Math.min(this.left,t.left),top:Math.min(this.top,t.top),bottom:Math.max(this.bottom,t.bottom),right:Math.max(this.right,t.right)})},translate:function(t,i){return new Rect({left:this.left+t,top:this.top+i,width:this.width,height:this.height})},pointInside:function(t,i){return t>=this.left&&t<=this.right&&i>=this.top&&i<=this.bottom},rectInside:function(t){return util.every(t._keyPoints(),function(t){return this.pointInside(t[0],t[1])},this)},rectIntersects:function(t){return!(t.right<=this.left||t.bottom<=this.top||t.left>=this.right||t.top>=this.bottom)},round:function(){return new Rect({top:Math.floor(this.top),left:Math.floor(this.left),right:Math.ceil(this.right),bottom:Math.ceil(this.bottom)})},serialize:function(){return{left:this.left,top:this.top,width:this.width,height:this.height}},overflowsTopBound:function(t){return this._overflowsBound(t,"top")},overflowsLeftBound:function(t){return this._overflowsBound(t,"left")},recalculateHeight:function(t){this.height=this.height-(t.top-Math.max(0,this.top))},recalculateWidth:function(t){this.width=this.width-(t.left-Math.max(0,this.left))},_overflowsBound:function(t,i){return Math.max(0,this[i])<t[i]},_anyPointInside:function(t){return util.some(t,function(t){return this.pointInside(t[0],t[1])},this)},_keyPoints:function(){return[[this.left,this.top],[this.left,this.bottom],[this.right,this.top],[this.right,this.bottom]]}},exports.Rect=Rect,exports.getAbsoluteClientRect=function(t,i){return new Rect(t.getBoundingClientRect()).translate(util.getScrollLeft(i),util.getScrollTop(i))};
},{"./util":5}],5:[function(require,module,exports){
"use strict";function arrayUtil(r,t){return r?contextify(r):t}function contextify(r){return function(t){var e=Array.prototype.slice.call(arguments,1);return r.apply(t,e)}}function myForEach(r,t,e){for(var o=0;o<r.length;o++)t.call(e,r[o],o,r)}function mySome(r,t,e){for(var o=0;o<r.length;o++)if(t.call(e,r[o],o,r))return!0;return!1}function myEvery(r,t,e){for(var o=0;o<r.length;o++)if(!t.call(e,r[o],o,r))return!1;return!0}function getScroll(r,t,e){var o=SCROLL_DIR_NAME[t],n=PAGE_OFFSET_NAME[e];return r&&r!==window?r[o]:"undefined"!=typeof window[n]?window[n]:document.documentElement[o]}var SCROLL_DIR_NAME={top:"scrollTop",left:"scrollLeft"},PAGE_OFFSET_NAME={x:"pageXOffset",y:"pageYOffset"};exports.each=arrayUtil(Array.prototype.forEach,myForEach),exports.some=arrayUtil(Array.prototype.some,mySome),exports.every=arrayUtil(Array.prototype.every,myEvery),exports.getScrollTop=function(r){return getScroll(r,"top","y")},exports.getScrollLeft=function(r){return getScroll(r,"left","x")},exports.isSafariMobile=function(){return navigator&&"string"==typeof navigator.vendor&&navigator.vendor.match(/apple/i)&&/(iPhone|iPad).*AppleWebKit.*Safari/i.test(navigator.userAgent)};
},{}],6:[function(require,module,exports){
"use strict";function isXpathSelector(e){return XPATH_SELECTORS_START.some(function(t){return 0===e.indexOf(t)})}function queryFirst(e){return document.evaluate(e,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue}function queryAll(e){var t,u=document.evaluate(e,document,null,XPathResult.ANY_TYPE,null),r=[];for(t=u.iterateNext();t;)r.push(t),t=u.iterateNext();return r}var XPATH_SELECTORS_START=["/","(","../","./","*/"];module.exports={isXpathSelector:isXpathSelector,queryFirst:queryFirst,queryAll:queryAll};
},{}]},{},[2]);
", <object>)
2023-07-01T08:36:31.096Z INFO devtools: RESULT {}
2023-07-01T08:36:31.096Z INFO webdriver: RESULT {}
2023-07-01T08:36:31.096Z INFO webdriver: COMMAND execute("return typeof __geminiCore !== "undefined" ? __geminiCore.prepareScreenshot([".navbar"], {"ignoreSelectors":[],"allowViewportOverflow":false,"captureElementFromTop":true,"usePixelRatio":true}) : {isClientScriptNotInjected: true}")
2023-07-01T08:36:31.098Z INFO devtools: COMMAND executeScript("return typeof __geminiCore !== "undefined" ? __geminiCore.prepareScreenshot([".navbar"], {"ignoreSelectors":[],"allowViewportOverflow":false,"captureElementFromTop":true,"usePixelRatio":true}) : {isClientScriptNotInjected: true}", <object>)
2023-07-01T08:36:31.101Z INFO devtools: RESULT {
  captureArea: { left: 0, top: 0, width: 558, height: 56 },
  ignoreAreas: [],
  viewport: { left: 0, top: 0, width: 558, height: 500 },
  documentHeight: 994,
  documentWidth: 558,
  canHaveCaret: false,
  pixelRatio: 1
}
2023-07-01T08:36:31.101Z INFO webdriver: RESULT {
  captureArea: { left: 0, top: 0, width: 558, height: 56 },
  ignoreAreas: [],
  viewport: { left: 0, top: 0, width: 558, height: 500 },
  documentHeight: 994,
  documentWidth: 558,
  canHaveCaret: false,
  pixelRatio: 1
}
2023-07-01T08:36:31.104Z INFO devtools: COMMAND takeScreenshot()
2023-07-01T08:36:31.222Z INFO devtools: RESULT iVBORw0KGgoAAAANSUhEUgAAAj8AAAH0CAYAAADSa0zdAAAAAXNSR0IArs4c6...
2023-07-01T08:36:31.237Z INFO webdriver: RESULT undefined
тЬУ ╨Ю╨▒╤Й╨╕╨╡ ╤В╤А╨╡╨▒╨╛╨▓╨░╨╜╨╕╤П: ╨╜╨░ ╤И╨╕╤А╨╕╨╜╨╡ ╨╝╨╡╨╜╤М╤И╨╡ 576px ╨╜╨░╨▓╨╕╨│╨░╤Ж╨╕╨╛╨╜╨╜╨╛╨╡ ╨╝╨╡╨╜╤О ╨┤╨╛╨╗╨╢╨╜╨╛ ╤Б╨║╤А╤Л╨▓╨░╤В╤М╤Б╤П ╨╖╨░ "╨│╨░╨╝╨▒╤Г╤А╨│╨╡╤А" [chrome:fd323f62-6111-4bbf-8445-695024e2ec28] - 511ms
2023-07-01T08:36:31.265Z INFO webdriver: COMMAND addCommand("setMeta", <fn>)
2023-07-01T08:36:31.265Z INFO webdriver: COMMAND addCommand("getMeta", <fn>)
2023-07-01T08:36:31.265Z INFO webdriver: COMMAND overwriteCommand("url", <fn>)
2023-07-01T08:36:31.265Z INFO webdriver: COMMAND addCommand("assertView", <fn>)
2023-07-01T08:36:31.265Z INFO webdriver: COMMAND addCommand("assertView", <fn>, true)
2023-07-01T08:36:31.265Z INFO webdriver: COMMAND addCommand("getConfig", <fn>)
2023-07-01T08:36:31.265Z INFO webdriver: COMMAND addCommand("extendOptions", <fn>)
2023-07-01T08:36:31.265Z INFO webdriver: RESULT undefined
2023-07-01T08:36:31.265Z INFO webdriver: RESULT undefined
2023-07-01T08:36:31.265Z INFO webdriver: RESULT undefined
2023-07-01T08:36:31.265Z INFO webdriver: RESULT undefined
2023-07-01T08:36:31.265Z INFO webdriver: RESULT undefined
2023-07-01T08:36:31.265Z INFO webdriver: RESULT undefined
2023-07-01T08:36:31.265Z INFO webdriver: RESULT undefined
2023-07-01T08:36:31.390Z INFO webdriver: COMMAND $("<Screenshot[base64]>")
2023-07-01T08:36:31.392Z INFO devtools: COMMAND findElement("css selector", "body")
2023-07-01T08:36:31.394Z INFO devtools: RESULT { 'element-6066-11e4-a52e-4f735466cecf': 'ELEMENT-1' }
2023-07-01T08:36:31.395Z INFO webdriver: RESULT Element {
  sessionId: 'fd323f62-6111-4bbf-8445-695024e2ec28',
  elementId: 'ELEMENT-1',
  'element-6066-11e4-a52e-4f735466cecf': 'ELEMENT-1',
  selector: 'body',
  parent: Browser {
    sessionId: 'fd323f62-6111-4bbf-8445-695024e2ec28',
    capabilities: {
      browserName: 'Chrome',
      browserVersion: '114.0.0.0',
      platformName: 'win32',
      platformVersion: '10.0.22621',
      'goog:chromeOptions': [Object]
    }
  },
  emit: [Function: bound ],
  isReactElement: false,
  addCommand: [Function (anonymous)],
  overwriteCommand: [Function (anonymous)]
}
2023-07-01T08:36:31.395Z INFO webdriver: COMMAND execute(<fn>, <object>, true)
2023-07-01T08:36:31.397Z INFO devtools: COMMAND executeScript(<fn>, <object>)
2023-07-01T08:36:31.400Z INFO webdriver: RESULT undefined
2023-07-01T08:36:31.403Z INFO devtools: COMMAND getElementRect("ELEMENT-1")
2023-07-01T08:36:31.405Z INFO devtools: RESULT { x: 0, y: 0, width: 783, height: 743.75 }
2023-07-01T08:36:31.406Z INFO webdriver: COMMAND execute(<fn>)
2023-07-01T08:36:31.407Z INFO devtools: COMMAND executeScript(<fn>, <object>)
2023-07-01T08:36:31.408Z INFO devtools: RESULT { scrollX: 0, scrollY: 0 }
2023-07-01T08:36:31.408Z INFO webdriver: RESULT { scrollX: 0, scrollY: 0 }
2023-07-01T08:36:31.410Z INFO devtools: COMMAND performActions(<object>)
2023-07-01T08:36:31.565Z INFO devtools: COMMAND releaseActions()
2023-07-01T08:36:31.566Z INFO webdriver: COMMAND getPuppeteer()
2023-07-01T08:36:31.567Z INFO webdriver: RESULT CDPBrowser {
  eventsMap: Map(2) {
    'targetcreated' => [ [Function: bound _targetCreatedHandler] AsyncFunction ],
    'targetdestroyed' => [ [Function: bound _targetDestroyedHandler] AsyncFunction ]
  },
  emitter: {
    all: Map(2) { 'targetcreated' => [Array], 'targetdestroyed' => [Array] },
    on: [Function: on],
    off: [Function: off],
    emit: [Function: emit]
  }
}
тЬУ ╨Ю╨▒╤Й╨╕╨╡ ╤В╤А╨╡╨▒╨╛╨▓╨░╨╜╨╕╤П: ╨┐╤А╨╕ ╨▓╤Л╨▒╨╛╤А╨╡ ╤Н╨╗╨╡╨╝╨╡╨╜╤В╨░ ╨╕╨╖ ╨╝╨╡╨╜╤О "╨│╨░╨╝╨▒╤Г╤А╨│╨╡╤А╨░", ╨╝╨╡╨╜╤О ╨┤╨╛╨╗╨╢╨╜╨╛ ╨╖╨░╨║╤А╤Л╨▓╨░╤В╤М╤Б╤П [chrome:fd323f62-6111-4bbf-8445-695024e2ec28] - 972ms
2023-07-01T08:36:32.266Z INFO webdriver: COMMAND addCommand("setMeta", <fn>)
2023-07-01T08:36:32.267Z INFO webdriver: COMMAND addCommand("getMeta", <fn>)
2023-07-01T08:36:32.267Z INFO webdriver: COMMAND overwriteCommand("url", <fn>)
2023-07-01T08:36:32.267Z INFO webdriver: COMMAND addCommand("assertView", <fn>)
2023-07-01T08:36:32.267Z INFO webdriver: COMMAND addCommand("assertView", <fn>, true)
2023-07-01T08:36:32.267Z INFO webdriver: COMMAND addCommand("getConfig", <fn>)
2023-07-01T08:36:32.267Z INFO webdriver: COMMAND addCommand("extendOptions", <fn>)
2023-07-01T08:36:32.267Z INFO webdriver: RESULT undefined
2023-07-01T08:36:32.268Z INFO webdriver: RESULT undefined
2023-07-01T08:36:32.268Z INFO webdriver: RESULT undefined
2023-07-01T08:36:32.268Z INFO webdriver: RESULT undefined
2023-07-01T08:36:32.268Z INFO webdriver: RESULT undefined
2023-07-01T08:36:32.268Z INFO webdriver: RESULT undefined
2023-07-01T08:36:32.268Z INFO webdriver: RESULT undefined
2023-07-01T08:36:32.380Z INFO webdriver: COMMAND $("<Screenshot[base64]>")
2023-07-01T08:36:32.383Z INFO devtools: COMMAND findElement("css selector", "body")
2023-07-01T08:36:32.386Z INFO devtools: RESULT { 'element-6066-11e4-a52e-4f735466cecf': 'ELEMENT-1' }
2023-07-01T08:36:32.387Z INFO webdriver: RESULT Element {
  sessionId: 'fd323f62-6111-4bbf-8445-695024e2ec28',
  elementId: 'ELEMENT-1',
  'element-6066-11e4-a52e-4f735466cecf': 'ELEMENT-1',
  selector: 'body',
  parent: Browser {
    sessionId: 'fd323f62-6111-4bbf-8445-695024e2ec28',
    capabilities: {
      browserName: 'Chrome',
      browserVersion: '114.0.0.0',
      platformName: 'win32',
      platformVersion: '10.0.22621',
      'goog:chromeOptions': [Object]
    }
  },
  emit: [Function: bound ],
  isReactElement: false,
  addCommand: [Function (anonymous)],
  overwriteCommand: [Function (anonymous)]
}
2023-07-01T08:36:32.387Z INFO webdriver: COMMAND execute(<fn>, <object>, true)
2023-07-01T08:36:32.391Z INFO devtools: COMMAND executeScript(<fn>, <object>)
2023-07-01T08:36:32.394Z INFO webdriver: RESULT undefined
2023-07-01T08:36:32.396Z INFO devtools: COMMAND getElementRect("ELEMENT-1")
2023-07-01T08:36:32.399Z INFO devtools: RESULT { x: 0, y: 0, width: 783, height: 3464.796875 }
2023-07-01T08:36:32.399Z INFO webdriver: COMMAND execute(<fn>)
2023-07-01T08:36:32.401Z INFO devtools: COMMAND executeScript(<fn>, <object>)
2023-07-01T08:36:32.406Z INFO devtools: RESULT { scrollX: 0, scrollY: 0 }
2023-07-01T08:36:32.407Z INFO webdriver: RESULT { scrollX: 0, scrollY: 0 }
2023-07-01T08:36:32.408Z INFO devtools: COMMAND performActions(<object>)
2023-07-01T08:36:32.564Z INFO devtools: COMMAND releaseActions()
2023-07-01T08:36:32.564Z INFO webdriver: COMMAND getPuppeteer()
2023-07-01T08:36:32.565Z INFO webdriver: RESULT CDPBrowser {
  eventsMap: Map(2) {
    'targetcreated' => [ [Function: bound _targetCreatedHandler] AsyncFunction ],
    'targetdestroyed' => [ [Function: bound _targetDestroyedHandler] AsyncFunction ]
  },
  emitter: {
    all: Map(2) { 'targetcreated' => [Array], 'targetdestroyed' => [Array] },
    on: [Function: on],
    off: [Function: off],
    emit: [Function: emit]
  }
}
2023-07-01T08:36:32.637Z INFO webdriver: COMMAND assertView("navbar", ".navbar")
2023-07-01T08:36:32.637Z INFO webdriver: COMMAND $(".navbar")
2023-07-01T08:36:32.639Z INFO devtools: COMMAND findElement("css selector", ".navbar")
2023-07-01T08:36:32.640Z INFO devtools: RESULT { 'element-6066-11e4-a52e-4f735466cecf': 'ELEMENT-2' }
2023-07-01T08:36:32.642Z INFO webdriver: RESULT Element {
  sessionId: 'fd323f62-6111-4bbf-8445-695024e2ec28',
  elementId: 'ELEMENT-2',
  'element-6066-11e4-a52e-4f735466cecf': 'ELEMENT-2',
  selector: '.navbar',
  parent: Browser {
    sessionId: 'fd323f62-6111-4bbf-8445-695024e2ec28',
    capabilities: {
      browserName: 'Chrome',
      browserVersion: '114.0.0.0',
      platformName: 'win32',
      platformVersion: '10.0.22621',
      'goog:chromeOptions': [Object]
    }
  },
  emit: [Function: bound ],
  isReactElement: false,
  addCommand: [Function (anonymous)],
  overwriteCommand: [Function (anonymous)]
}
2023-07-01T08:36:32.642Z INFO webdriver: COMMAND $$(".navbar")
2023-07-01T08:36:32.645Z INFO devtools: COMMAND findElements("css selector", ".navbar")
2023-07-01T08:36:32.648Z INFO devtools: RESULT [ { 'element-6066-11e4-a52e-4f735466cecf': 'ELEMENT-3' } ]
2023-07-01T08:36:32.649Z INFO webdriver: RESULT [
  Element {
    sessionId: 'fd323f62-6111-4bbf-8445-695024e2ec28',
    elementId: 'ELEMENT-3',
    'element-6066-11e4-a52e-4f735466cecf': 'ELEMENT-3',
    selector: '.navbar',
    parent: Browser {
      sessionId: 'fd323f62-6111-4bbf-8445-695024e2ec28',
      capabilities: [Object]
    },
    index: 0,
    emit: [Function: bound ],
    isReactElement: false,
    addCommand: [Function (anonymous)],
    overwriteCommand: [Function (anonymous)]
  },
  selector: '.navbar',
  parent: Browser {
    sessionId: 'fd323f62-6111-4bbf-8445-695024e2ec28',
    capabilities: {
      browserName: 'Chrome',
      browserVersion: '114.0.0.0',
      platformName: 'win32',
      platformVersion: '10.0.22621',
      'goog:chromeOptions': [Object]
    }
  },
  foundWith: '$$',
  props: []
]
2023-07-01T08:36:32.650Z INFO webdriver: COMMAND execute("return typeof __geminiCore !== "undefined" ? __geminiCore.prepareScreenshot([".navbar"], {"ignoreSelectors":[],"allowViewportOverflow":false,"captureElementFromTop":true,"usePixelRatio":true}) : {isClientScriptNotInjected: true}")
2023-07-01T08:36:32.651Z INFO devtools: COMMAND executeScript("return typeof __geminiCore !== "undefined" ? __geminiCore.prepareScreenshot([".navbar"], {"ignoreSelectors":[],"allowViewportOverflow":false,"captureElementFromTop":true,"usePixelRatio":true}) : {isClientScriptNotInjected: true}", <object>)
2023-07-01T08:36:32.654Z INFO devtools: RESULT { isClientScriptNotInjected: true }
2023-07-01T08:36:32.654Z INFO webdriver: RESULT { isClientScriptNotInjected: true }
2023-07-01T08:36:32.654Z INFO webdriver: COMMAND execute("(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";var lib=require("./lib.native.js");module.exports=function(e){return lib.queryAll(e)};
},{"./lib.native.js":3}],2:[function(require,module,exports){
(function (global){(function (){
"use strict";function prepareScreenshotUnsafe(e,t){var r=t.allowViewportOverflow,o=t.captureElementFromTop,i=window;if(t.selectorToScroll&&!(i=document.querySelector(t.selectorToScroll)))return{error:"NOTFOUND",message:'Could not find element with css selector specified in "selectorToScroll" option: '+t.selectorToScroll,selector:t.selectorToScroll};var n,l=[];if(e.forEach(function(e){Rect.isRect(e)?n=n?n.merge(new Rect(e)):new Rect(e):l.push(e)}),n=getCaptureRect(l,{allowViewportOverflow:r,scrollElem:i},n),n.error)return n;var a=document.documentElement.clientWidth,c=document.documentElement.clientHeight,u=document.documentElement.scrollWidth,s=document.documentElement.scrollHeight,d=new Rect({left:util.getScrollLeft(i),top:util.getScrollTop(i),width:a,height:c}),f=configurePixelRatio(t.usePixelRatio);if(o&&!d.rectInside(n))util.isSafariMobile()?scrollToCaptureAreaInSafari(d,n,i):i.scrollTo(n.left,n.top);else if(r&&d.rectIntersects(n))n.overflowsTopBound(d)&&n.recalculateHeight(d),n.overflowsLeftBound(d)&&n.recalculateWidth(d);else if(!o&&!d.rectIntersects(n))return{error:"OUTSIDE_OF_VIEWPORT",message:'Can not capture element, because it is outside of viewport. Try to set "captureElementFromTop=true" to scroll to it before capture.'};return{captureArea:n.serialize(),ignoreAreas:findIgnoreAreas(t.ignoreSelectors,i),viewport:{left:util.getScrollLeft(i),top:util.getScrollTop(i),width:Math.round(a),height:Math.round(c)},documentHeight:Math.round(s),documentWidth:Math.round(u),canHaveCaret:isEditable(document.activeElement),pixelRatio:f}}function getCaptureRect(e,t,r){for(var o,i,n=r,l=0;l<e.length;l++){if(!(o=lib.queryFirst(e[l])))return{error:"NOTFOUND",message:"Could not find element with css selector specified in setCaptureElements: "+e[l],selector:e[l]};i=getElementCaptureRect(o,t),i&&(n=n?n.merge(i):i)}return n?n.round():{error:"HIDDEN",message:"Area with css selector : "+e+" is hidden",selector:e}}function configurePixelRatio(e){return!1===e?1:window.devicePixelRatio?window.devicePixelRatio:window.screen.deviceXDPI/window.screen.logicalXDPI||1}function findIgnoreAreas(e,t){var r=[];return util.each(e,function(e){var o=queryIgnoreAreas(e);util.each(o,function(e){return addIgnoreArea.call(r,e,t)})}),r}function addIgnoreArea(e,t){var r=e&&getElementCaptureRect(e,{scrollElem:t});r&&this.push(r.round().serialize())}function isHidden(e,t){return"none"===e.display||"hidden"===e.visibility||e.opacity<1e-4||t.width<1e-4||t.height<1e-4}function getElementCaptureRect(e,t){var r=[":before",":after"],o=lib.getComputedStyle(e),i=rect.getAbsoluteClientRect(e,t.scrollElem);if(isHidden(o,i))return null;var n=getExtRect(o,i,t.allowViewportOverflow);return util.each(r,function(r){o=lib.getComputedStyle(e,r),n=n.merge(getExtRect(o,i,t.allowViewportOverflow))}),n}function getExtRect(e,t,r){var o=parseBoxShadow(e.boxShadow),i=parseInt(e.outlineWidth,10);return isNaN(i)&&(i=0),adjustRect(t,o,i,r)}function parseBoxShadow(e){e=e||"";var t,r=/[-+]?\d*\.?\d+px/g,o=e.split(","),i=[];return util.each(o,function(e){(t=e.match(r))&&i.push({offsetX:parseFloat(t[0]),offsetY:parseFloat(t[1])||0,blurRadius:parseFloat(t[2])||0,spreadRadius:parseFloat(t[3])||0,inset:-1!==e.indexOf("inset")})}),i}function adjustRect(e,t,r,o){var i=calculateShadowRect(e,t,o),n=calculateOutlineRect(e,r,o);return i.merge(n)}function calculateOutlineRect(e,t,r){var o=e.top-t,i=e.left-t;return new Rect({top:r?o:Math.max(0,o),left:r?i:Math.max(0,i),bottom:e.bottom+t,right:e.right+t})}function calculateShadowRect(e,t,r){var o=calculateShadowExtent(t),i=e.left+o.left,n=e.top+o.top;return new Rect({left:r?i:Math.max(0,i),top:r?n:Math.max(0,n),width:e.width-o.left+o.right,height:e.height-o.top+o.bottom})}function calculateShadowExtent(e){var t={top:0,left:0,right:0,bottom:0};return util.each(e,function(e){if(!e.inset){var r=e.spreadRadius+e.blurRadius;t.left=Math.min(e.offsetX-r,t.left),t.right=Math.max(e.offsetX+r,t.right),t.top=Math.min(e.offsetY-r,t.top),t.bottom=Math.max(e.offsetY+r,t.bottom)}}),t}function isEditable(e){return!!e&&(/^(input|textarea)$/i.test(e.tagName)||e.isContentEditable)}function scrollToCaptureAreaInSafari(e,t,r){var o=Math.round(document.documentElement.scrollHeight),i=Math.round(document.documentElement.clientHeight),n=o-i;r.scrollTo(e.left,Math.min(t.top,n))}var util=require("./util"),rect=require("./rect"),lib=require("./lib.native.js"),queryIgnoreAreas=require("./ignore-areas.js"),Rect=rect.Rect;"undefined"==typeof window?global.__geminiCore=exports:window.__geminiCore=exports,exports.queryFirst=lib.queryFirst,exports.prepareScreenshot=function(e,t){t=t||{};try{return prepareScreenshotUnsafe(e,t)}catch(r){return{error:"JS",message:r.stack||r.message}}},exports.resetZoom=function(){var e=lib.queryFirst('meta[name="viewport"]');if(!e){e=document.createElement("meta"),e.name="viewport";var t=lib.queryFirst("head");t&&t.appendChild(e)}e.content="width=device-width,initial-scale=1.0,user-scalable=no"};
}).call(this)}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"./ignore-areas.js":1,"./lib.native.js":3,"./rect":4,"./util":5}],3:[function(require,module,exports){
"use strict";var xpath=require("./xpath");exports.queryFirst=function(t){return xpath.isXpathSelector(t)?xpath.queryFirst(t):document.querySelector(t)},exports.queryAll=function(t){return xpath.isXpathSelector(t)?xpath.queryAll(t):document.querySelectorAll(t)},exports.getComputedStyle=function(t,e){return getComputedStyle(t,e)},exports.matchMedia=function(t){return matchMedia(t)},exports.trim=function(t){return t.trim()};
},{"./xpath":6}],4:[function(require,module,exports){
"use strict";function Rect(t){if(this.top=t.top,this.left=t.left,"width"in t&&"height"in t)this.width=t.width,this.height=t.height,this.bottom=t.bottom||this.top+this.height,this.right=t.right||this.left+this.width;else{if(!("bottom"in t&&"right"in t))throw new Error("Not enough data for the rect construction");this.bottom=t.bottom,this.right=t.right,this.width=t.right-Math.max(0,t.left),this.height=t.bottom-Math.max(0,t.top)}}var util=require("./util");Rect.isRect=function(t){return"object"==typeof t&&null!==t&&!Array.isArray(t)&&("left"in t&&"top"in t&&("width"in t&&"height"in t||"right"in t&&"bottom"in t))},Rect.prototype={constructor:Rect,merge:function(t){return new Rect({left:Math.min(this.left,t.left),top:Math.min(this.top,t.top),bottom:Math.max(this.bottom,t.bottom),right:Math.max(this.right,t.right)})},translate:function(t,i){return new Rect({left:this.left+t,top:this.top+i,width:this.width,height:this.height})},pointInside:function(t,i){return t>=this.left&&t<=this.right&&i>=this.top&&i<=this.bottom},rectInside:function(t){return util.every(t._keyPoints(),function(t){return this.pointInside(t[0],t[1])},this)},rectIntersects:function(t){return!(t.right<=this.left||t.bottom<=this.top||t.left>=this.right||t.top>=this.bottom)},round:function(){return new Rect({top:Math.floor(this.top),left:Math.floor(this.left),right:Math.ceil(this.right),bottom:Math.ceil(this.bottom)})},serialize:function(){return{left:this.left,top:this.top,width:this.width,height:this.height}},overflowsTopBound:function(t){return this._overflowsBound(t,"top")},overflowsLeftBound:function(t){return this._overflowsBound(t,"left")},recalculateHeight:function(t){this.height=this.height-(t.top-Math.max(0,this.top))},recalculateWidth:function(t){this.width=this.width-(t.left-Math.max(0,this.left))},_overflowsBound:function(t,i){return Math.max(0,this[i])<t[i]},_anyPointInside:function(t){return util.some(t,function(t){return this.pointInside(t[0],t[1])},this)},_keyPoints:function(){return[[this.left,this.top],[this.left,this.bottom],[this.right,this.top],[this.right,this.bottom]]}},exports.Rect=Rect,exports.getAbsoluteClientRect=function(t,i){return new Rect(t.getBoundingClientRect()).translate(util.getScrollLeft(i),util.getScrollTop(i))};
},{"./util":5}],5:[function(require,module,exports){
"use strict";function arrayUtil(r,t){return r?contextify(r):t}function contextify(r){return function(t){var e=Array.prototype.slice.call(arguments,1);return r.apply(t,e)}}function myForEach(r,t,e){for(var o=0;o<r.length;o++)t.call(e,r[o],o,r)}function mySome(r,t,e){for(var o=0;o<r.length;o++)if(t.call(e,r[o],o,r))return!0;return!1}function myEvery(r,t,e){for(var o=0;o<r.length;o++)if(!t.call(e,r[o],o,r))return!1;return!0}function getScroll(r,t,e){var o=SCROLL_DIR_NAME[t],n=PAGE_OFFSET_NAME[e];return r&&r!==window?r[o]:"undefined"!=typeof window[n]?window[n]:document.documentElement[o]}var SCROLL_DIR_NAME={top:"scrollTop",left:"scrollLeft"},PAGE_OFFSET_NAME={x:"pageXOffset",y:"pageYOffset"};exports.each=arrayUtil(Array.prototype.forEach,myForEach),exports.some=arrayUtil(Array.prototype.some,mySome),exports.every=arrayUtil(Array.prototype.every,myEvery),exports.getScrollTop=function(r){return getScroll(r,"top","y")},exports.getScrollLeft=function(r){return getScroll(r,"left","x")},exports.isSafariMobile=function(){return navigator&&"string"==typeof navigator.vendor&&navigator.vendor.match(/apple/i)&&/(iPhone|iPad).*AppleWebKit.*Safari/i.test(navigator.userAgent)};
},{}],6:[function(require,module,exports){
"use strict";function isXpathSelector(e){return XPATH_SELECTORS_START.some(function(t){return 0===e.indexOf(t)})}function queryFirst(e){return document.evaluate(e,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue}function queryAll(e){var t,u=document.evaluate(e,document,null,XPathResult.ANY_TYPE,null),r=[];for(t=u.iterateNext();t;)r.push(t),t=u.iterateNext();return r}var XPATH_SELECTORS_START=["/","(","../","./","*/"];module.exports={isXpathSelector:isXpathSelector,queryFirst:queryFirst,queryAll:queryAll};
},{}]},{},[2]);
")
2023-07-01T08:36:32.656Z INFO devtools: COMMAND executeScript("(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";var lib=require("./lib.native.js");module.exports=function(e){return lib.queryAll(e)};
},{"./lib.native.js":3}],2:[function(require,module,exports){
(function (global){(function (){
"use strict";function prepareScreenshotUnsafe(e,t){var r=t.allowViewportOverflow,o=t.captureElementFromTop,i=window;if(t.selectorToScroll&&!(i=document.querySelector(t.selectorToScroll)))return{error:"NOTFOUND",message:'Could not find element with css selector specified in "selectorToScroll" option: '+t.selectorToScroll,selector:t.selectorToScroll};var n,l=[];if(e.forEach(function(e){Rect.isRect(e)?n=n?n.merge(new Rect(e)):new Rect(e):l.push(e)}),n=getCaptureRect(l,{allowViewportOverflow:r,scrollElem:i},n),n.error)return n;var a=document.documentElement.clientWidth,c=document.documentElement.clientHeight,u=document.documentElement.scrollWidth,s=document.documentElement.scrollHeight,d=new Rect({left:util.getScrollLeft(i),top:util.getScrollTop(i),width:a,height:c}),f=configurePixelRatio(t.usePixelRatio);if(o&&!d.rectInside(n))util.isSafariMobile()?scrollToCaptureAreaInSafari(d,n,i):i.scrollTo(n.left,n.top);else if(r&&d.rectIntersects(n))n.overflowsTopBound(d)&&n.recalculateHeight(d),n.overflowsLeftBound(d)&&n.recalculateWidth(d);else if(!o&&!d.rectIntersects(n))return{error:"OUTSIDE_OF_VIEWPORT",message:'Can not capture element, because it is outside of viewport. Try to set "captureElementFromTop=true" to scroll to it before capture.'};return{captureArea:n.serialize(),ignoreAreas:findIgnoreAreas(t.ignoreSelectors,i),viewport:{left:util.getScrollLeft(i),top:util.getScrollTop(i),width:Math.round(a),height:Math.round(c)},documentHeight:Math.round(s),documentWidth:Math.round(u),canHaveCaret:isEditable(document.activeElement),pixelRatio:f}}function getCaptureRect(e,t,r){for(var o,i,n=r,l=0;l<e.length;l++){if(!(o=lib.queryFirst(e[l])))return{error:"NOTFOUND",message:"Could not find element with css selector specified in setCaptureElements: "+e[l],selector:e[l]};i=getElementCaptureRect(o,t),i&&(n=n?n.merge(i):i)}return n?n.round():{error:"HIDDEN",message:"Area with css selector : "+e+" is hidden",selector:e}}function configurePixelRatio(e){return!1===e?1:window.devicePixelRatio?window.devicePixelRatio:window.screen.deviceXDPI/window.screen.logicalXDPI||1}function findIgnoreAreas(e,t){var r=[];return util.each(e,function(e){var o=queryIgnoreAreas(e);util.each(o,function(e){return addIgnoreArea.call(r,e,t)})}),r}function addIgnoreArea(e,t){var r=e&&getElementCaptureRect(e,{scrollElem:t});r&&this.push(r.round().serialize())}function isHidden(e,t){return"none"===e.display||"hidden"===e.visibility||e.opacity<1e-4||t.width<1e-4||t.height<1e-4}function getElementCaptureRect(e,t){var r=[":before",":after"],o=lib.getComputedStyle(e),i=rect.getAbsoluteClientRect(e,t.scrollElem);if(isHidden(o,i))return null;var n=getExtRect(o,i,t.allowViewportOverflow);return util.each(r,function(r){o=lib.getComputedStyle(e,r),n=n.merge(getExtRect(o,i,t.allowViewportOverflow))}),n}function getExtRect(e,t,r){var o=parseBoxShadow(e.boxShadow),i=parseInt(e.outlineWidth,10);return isNaN(i)&&(i=0),adjustRect(t,o,i,r)}function parseBoxShadow(e){e=e||"";var t,r=/[-+]?\d*\.?\d+px/g,o=e.split(","),i=[];return util.each(o,function(e){(t=e.match(r))&&i.push({offsetX:parseFloat(t[0]),offsetY:parseFloat(t[1])||0,blurRadius:parseFloat(t[2])||0,spreadRadius:parseFloat(t[3])||0,inset:-1!==e.indexOf("inset")})}),i}function adjustRect(e,t,r,o){var i=calculateShadowRect(e,t,o),n=calculateOutlineRect(e,r,o);return i.merge(n)}function calculateOutlineRect(e,t,r){var o=e.top-t,i=e.left-t;return new Rect({top:r?o:Math.max(0,o),left:r?i:Math.max(0,i),bottom:e.bottom+t,right:e.right+t})}function calculateShadowRect(e,t,r){var o=calculateShadowExtent(t),i=e.left+o.left,n=e.top+o.top;return new Rect({left:r?i:Math.max(0,i),top:r?n:Math.max(0,n),width:e.width-o.left+o.right,height:e.height-o.top+o.bottom})}function calculateShadowExtent(e){var t={top:0,left:0,right:0,bottom:0};return util.each(e,function(e){if(!e.inset){var r=e.spreadRadius+e.blurRadius;t.left=Math.min(e.offsetX-r,t.left),t.right=Math.max(e.offsetX+r,t.right),t.top=Math.min(e.offsetY-r,t.top),t.bottom=Math.max(e.offsetY+r,t.bottom)}}),t}function isEditable(e){return!!e&&(/^(input|textarea)$/i.test(e.tagName)||e.isContentEditable)}function scrollToCaptureAreaInSafari(e,t,r){var o=Math.round(document.documentElement.scrollHeight),i=Math.round(document.documentElement.clientHeight),n=o-i;r.scrollTo(e.left,Math.min(t.top,n))}var util=require("./util"),rect=require("./rect"),lib=require("./lib.native.js"),queryIgnoreAreas=require("./ignore-areas.js"),Rect=rect.Rect;"undefined"==typeof window?global.__geminiCore=exports:window.__geminiCore=exports,exports.queryFirst=lib.queryFirst,exports.prepareScreenshot=function(e,t){t=t||{};try{return prepareScreenshotUnsafe(e,t)}catch(r){return{error:"JS",message:r.stack||r.message}}},exports.resetZoom=function(){var e=lib.queryFirst('meta[name="viewport"]');if(!e){e=document.createElement("meta"),e.name="viewport";var t=lib.queryFirst("head");t&&t.appendChild(e)}e.content="width=device-width,initial-scale=1.0,user-scalable=no"};
}).call(this)}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"./ignore-areas.js":1,"./lib.native.js":3,"./rect":4,"./util":5}],3:[function(require,module,exports){
"use strict";var xpath=require("./xpath");exports.queryFirst=function(t){return xpath.isXpathSelector(t)?xpath.queryFirst(t):document.querySelector(t)},exports.queryAll=function(t){return xpath.isXpathSelector(t)?xpath.queryAll(t):document.querySelectorAll(t)},exports.getComputedStyle=function(t,e){return getComputedStyle(t,e)},exports.matchMedia=function(t){return matchMedia(t)},exports.trim=function(t){return t.trim()};
},{"./xpath":6}],4:[function(require,module,exports){
"use strict";function Rect(t){if(this.top=t.top,this.left=t.left,"width"in t&&"height"in t)this.width=t.width,this.height=t.height,this.bottom=t.bottom||this.top+this.height,this.right=t.right||this.left+this.width;else{if(!("bottom"in t&&"right"in t))throw new Error("Not enough data for the rect construction");this.bottom=t.bottom,this.right=t.right,this.width=t.right-Math.max(0,t.left),this.height=t.bottom-Math.max(0,t.top)}}var util=require("./util");Rect.isRect=function(t){return"object"==typeof t&&null!==t&&!Array.isArray(t)&&("left"in t&&"top"in t&&("width"in t&&"height"in t||"right"in t&&"bottom"in t))},Rect.prototype={constructor:Rect,merge:function(t){return new Rect({left:Math.min(this.left,t.left),top:Math.min(this.top,t.top),bottom:Math.max(this.bottom,t.bottom),right:Math.max(this.right,t.right)})},translate:function(t,i){return new Rect({left:this.left+t,top:this.top+i,width:this.width,height:this.height})},pointInside:function(t,i){return t>=this.left&&t<=this.right&&i>=this.top&&i<=this.bottom},rectInside:function(t){return util.every(t._keyPoints(),function(t){return this.pointInside(t[0],t[1])},this)},rectIntersects:function(t){return!(t.right<=this.left||t.bottom<=this.top||t.left>=this.right||t.top>=this.bottom)},round:function(){return new Rect({top:Math.floor(this.top),left:Math.floor(this.left),right:Math.ceil(this.right),bottom:Math.ceil(this.bottom)})},serialize:function(){return{left:this.left,top:this.top,width:this.width,height:this.height}},overflowsTopBound:function(t){return this._overflowsBound(t,"top")},overflowsLeftBound:function(t){return this._overflowsBound(t,"left")},recalculateHeight:function(t){this.height=this.height-(t.top-Math.max(0,this.top))},recalculateWidth:function(t){this.width=this.width-(t.left-Math.max(0,this.left))},_overflowsBound:function(t,i){return Math.max(0,this[i])<t[i]},_anyPointInside:function(t){return util.some(t,function(t){return this.pointInside(t[0],t[1])},this)},_keyPoints:function(){return[[this.left,this.top],[this.left,this.bottom],[this.right,this.top],[this.right,this.bottom]]}},exports.Rect=Rect,exports.getAbsoluteClientRect=function(t,i){return new Rect(t.getBoundingClientRect()).translate(util.getScrollLeft(i),util.getScrollTop(i))};
},{"./util":5}],5:[function(require,module,exports){
"use strict";function arrayUtil(r,t){return r?contextify(r):t}function contextify(r){return function(t){var e=Array.prototype.slice.call(arguments,1);return r.apply(t,e)}}function myForEach(r,t,e){for(var o=0;o<r.length;o++)t.call(e,r[o],o,r)}function mySome(r,t,e){for(var o=0;o<r.length;o++)if(t.call(e,r[o],o,r))return!0;return!1}function myEvery(r,t,e){for(var o=0;o<r.length;o++)if(!t.call(e,r[o],o,r))return!1;return!0}function getScroll(r,t,e){var o=SCROLL_DIR_NAME[t],n=PAGE_OFFSET_NAME[e];return r&&r!==window?r[o]:"undefined"!=typeof window[n]?window[n]:document.documentElement[o]}var SCROLL_DIR_NAME={top:"scrollTop",left:"scrollLeft"},PAGE_OFFSET_NAME={x:"pageXOffset",y:"pageYOffset"};exports.each=arrayUtil(Array.prototype.forEach,myForEach),exports.some=arrayUtil(Array.prototype.some,mySome),exports.every=arrayUtil(Array.prototype.every,myEvery),exports.getScrollTop=function(r){return getScroll(r,"top","y")},exports.getScrollLeft=function(r){return getScroll(r,"left","x")},exports.isSafariMobile=function(){return navigator&&"string"==typeof navigator.vendor&&navigator.vendor.match(/apple/i)&&/(iPhone|iPad).*AppleWebKit.*Safari/i.test(navigator.userAgent)};
},{}],6:[function(require,module,exports){
"use strict";function isXpathSelector(e){return XPATH_SELECTORS_START.some(function(t){return 0===e.indexOf(t)})}function queryFirst(e){return document.evaluate(e,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue}function queryAll(e){var t,u=document.evaluate(e,document,null,XPathResult.ANY_TYPE,null),r=[];for(t=u.iterateNext();t;)r.push(t),t=u.iterateNext();return r}var XPATH_SELECTORS_START=["/","(","../","./","*/"];module.exports={isXpathSelector:isXpathSelector,queryFirst:queryFirst,queryAll:queryAll};
},{}]},{},[2]);
", <object>)
2023-07-01T08:36:32.662Z INFO devtools: RESULT {}
2023-07-01T08:36:32.662Z INFO webdriver: RESULT {}
2023-07-01T08:36:32.662Z INFO webdriver: COMMAND execute("return typeof __geminiCore !== "undefined" ? __geminiCore.prepareScreenshot([".navbar"], {"ignoreSelectors":[],"allowViewportOverflow":false,"captureElementFromTop":true,"usePixelRatio":true}) : {isClientScriptNotInjected: true}")
2023-07-01T08:36:32.663Z INFO devtools: COMMAND executeScript("return typeof __geminiCore !== "undefined" ? __geminiCore.prepareScreenshot([".navbar"], {"ignoreSelectors":[],"allowViewportOverflow":false,"captureElementFromTop":true,"usePixelRatio":true}) : {isClientScriptNotInjected: true}", <object>)
2023-07-01T08:36:32.665Z INFO devtools: RESULT {
  captureArea: { left: 0, top: 0, width: 783, height: 56 },
  ignoreAreas: [],
  viewport: { left: 0, top: 0, width: 783, height: 600 },
  documentHeight: 768,
  documentWidth: 783,
  canHaveCaret: false,
  pixelRatio: 1
}
2023-07-01T08:36:32.665Z INFO webdriver: RESULT {
  captureArea: { left: 0, top: 0, width: 783, height: 56 },
  ignoreAreas: [],
  viewport: { left: 0, top: 0, width: 783, height: 600 },
  documentHeight: 768,
  documentWidth: 783,
  canHaveCaret: false,
  pixelRatio: 1
}
2023-07-01T08:36:32.666Z INFO devtools: COMMAND takeScreenshot()
2023-07-01T08:36:32.767Z INFO devtools: RESULT iVBORw0KGgoAAAANSUhEUgAAAyAAAAJYCAYAAACadoJwAAAAAXNSR0IArs4c6...
2023-07-01T08:36:32.782Z INFO webdriver: RESULT undefined
╨Э╨░╨╣╨┤╨╡╨╜╨╜╤Л╨╡ ╤Б╤Б╤Л╨╗╨║╨╕: /hw/store/,/hw/store/catalog,/hw/store/delivery,/hw/store/contacts,/hw/store/cart
2023-07-01T08:36:32.785Z INFO webdriver: COMMAND extendOptions(<object>)
2023-07-01T08:36:32.785Z INFO webdriver: COMMAND execute("return {
            height: document.documentElement.scrollHeight,
            width: document.documentElement.scrollWidth
        }")
2023-07-01T08:36:32.786Z INFO webdriver: RESULT undefined
2023-07-01T08:36:32.787Z INFO devtools: COMMAND executeScript("return {
            height: document.documentElement.scrollHeight,
            width: document.documentElement.scrollWidth
        }", <object>)
2023-07-01T08:36:32.790Z INFO devtools: RESULT { height: 768, width: 783 }
2023-07-01T08:36:32.790Z INFO webdriver: RESULT { height: 768, width: 783 }
2023-07-01T08:36:32.790Z INFO webdriver: COMMAND execute("return typeof __geminiCore !== "undefined" ? __geminiCore.prepareScreenshot([{"left":0,"top":0,"width":783,"height":768}], {"ignoreSelectors":[],"captureElementFromTop":true,"allowViewportOverflow":true,"usePixelRatio":true}) : {isClientScriptNotInjected: true}")
2023-07-01T08:36:32.792Z INFO devtools: COMMAND executeScript("return typeof __geminiCore !== "undefined" ? __geminiCore.prepareScreenshot([{"left":0,"top":0,"width":783,"height":768}], {"ignoreSelectors":[],"captureElementFromTop":true,"allowViewportOverflow":true,"usePixelRatio":true}) : {isClientScriptNotInjected: true}", <object>)
2023-07-01T08:36:32.795Z INFO devtools: RESULT {
  captureArea: { left: 0, top: 0, width: 783, height: 768 },
  ignoreAreas: [],
  viewport: { left: 0, top: 0, width: 783, height: 600 },
  documentHeight: 768,
  documentWidth: 783,
  canHaveCaret: false,
  pixelRatio: 1
}
2023-07-01T08:36:32.795Z INFO webdriver: RESULT {
  captureArea: { left: 0, top: 0, width: 783, height: 768 },
  ignoreAreas: [],
  viewport: { left: 0, top: 0, width: 783, height: 600 },
  documentHeight: 768,
  documentWidth: 783,
  canHaveCaret: false,
  pixelRatio: 1
}
2023-07-01T08:36:32.797Z INFO devtools: COMMAND takeScreenshot()
2023-07-01T08:36:32.892Z INFO devtools: RESULT iVBORw0KGgoAAAANSUhEUgAAAyAAAAJYCAYAAACadoJwAAAAAXNSR0IArs4c6...
2023-07-01T08:36:32.902Z INFO webdriver: COMMAND execute(<fn>, <object>)
2023-07-01T08:36:32.904Z INFO devtools: COMMAND executeScript(<fn>, <object>)
2023-07-01T08:36:32.906Z INFO webdriver: RESULT undefined
2023-07-01T08:36:32.907Z INFO devtools: COMMAND takeScreenshot()
2023-07-01T08:36:33.043Z INFO devtools: RESULT iVBORw0KGgoAAAANSUhEUgAAAyAAAAJYCAYAAACadoJwAAAAAXNSR0IArs4c6...
2023-07-01T08:36:33.147Z INFO webdriver: COMMAND extendOptions(<object>)
2023-07-01T08:36:33.148Z INFO webdriver: RESULT undefined
тЬШ ╨б╤В╤А╨░╨╜╨╕╤Ж╤Л: ╨▓ ╤И╨░╨┐╨║╨╡ ╨╛╤В╨╛╨▒╤А╨░╨╢╨░╤О╤В╤Б╤П ╤Б╤Б╤Л╨╗╨║╨╕ ╨╜╨░ ╤Б╤В╤А╨░╨╜╨╕╤Ж╤Л ╨╝╨░╨│╨░╨╖╨╕╨╜╨░, ╨░ ╤В╨░╨║╨╢╨╡ ╤Б╤Б╤Л╨╗╨║╨░ ╨╜╨░ ╨║╨╛╤А╨╖╨╕╨╜╤Г [chrome:fd323f62-6111-4bbf-8445-695024e2ec28] - 962ms
Total: 6 Passed: 4 Failed: 2 Skipped: 0 Retries: 0

1) ╨Ю╨▒╤Й╨╕╨╡ ╤В╤А╨╡╨▒╨╛╨▓╨░╨╜╨╕╤П: ╨▓╤С╤А╤Б╤В╨║╨░ ╨┤╨╛╨╗╨╢╨╜╨░ ╨░╨┤╨░╨┐╤В╨╕╤А╨╛╨▓╨░╤В╤М╤Б╤П ╨┐╨╛╨┤ ╤И╨╕╤А╨╕╨╜╤Г ╤Н╨║╤А╨░╨╜╨░
   in file test\hermione\general.hermione.js

   chrome
     тЬШ AssertViewError: image comparison failed
    at TestRunner.run (C:\testing-homework-yandex\node_modules\hermione\lib\worker\runner\test-runner\index.js:68:21)

2) ╨б╤В╤А╨░╨╜╨╕╤Ж╤Л: ╨▓ ╤И╨░╨┐╨║╨╡ ╨╛╤В╨╛╨▒╤А╨░╨╢╨░╤О╤В╤Б╤П ╤Б╤Б╤Л╨╗╨║╨╕ ╨╜╨░ ╤Б╤В╤А╨░╨╜╨╕╤Ж╤Л ╨╝╨░╨│╨░╨╖╨╕╨╜╨░, ╨░ ╤В╨░╨║╨╢╨╡ ╤Б╤Б╤Л╨╗╨║╨░ ╨╜╨░ ╨║╨╛╤А╨╖╨╕╨╜╤Г
   in file test\hermione\pages.hermione.js

   chrome
     тЬШ AssertViewError: image comparison failed
    at TestRunner.run (C:\testing-homework-yandex\node_modules\hermione\lib\worker\runner\test-runner\index.js:68:21)
Your HTML report is here: file://C:\testing-homework-yandex\hermione-html-reports\index.html
To open it use: npx hermione gui or npx http-server hermione-html-reports
